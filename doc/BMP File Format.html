<!DOCTYPE html>
<html lang="en-uk" dir="ltr">
  <!-- HTML v5 Head -->
  <head>
    <!-- * Metadata * -->
    <meta charset="utf-8">
    <meta name="robots" content="all">
    <meta name="description" content="Microsoft Windows and IBM OS/2 BMP File Format.">
    <meta name="keywords" content="Jos&eacute; Caetano Silva, CaetanoSoft, BMP, BMP File Format, Bitmap, DIB, DDB, Windows, OS/2">
    <meta name="author" content="&copy; 1995-2023 Jos&eacute; Caetano Silva. All Rights Reserved.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Copyright Link -->
    <link rel="copyright" href="http://creativecommons.org/licenses/by-sa/3.0/">
    <!-- * Page Shortcut Icon * -->
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <!-- * Page Title * -->
    <title>BMP File Format</title>
    <!-- * Cascading Style Sheets v3.0 * -->
    <style>
      /* HTML BODY Tag Default Style */
      body {
        width: auto;
        height: auto;
        margin: 20px;
        border-width: 0;
        padding: 0;
        background-color: #FFFFFF;
        color: #000000;
        text-align: left;
        vertical-align: top;
        font: normal 12pt Tahoma, Verdana, Arial, Helvetica, sans-serif;
        align-items: center;
        align-content: space-evenly;
        justify-content: space-evenly;
      }
      /* HTML P Tag Default Style */
      p {
        text-align: justify;
        hyphens: auto;
      }
      /* HTML H1 Tag Default Style */
      h1 {
        color: #0C0CFF;
        font-family: Garamond, Georgia, "Times New Roman", Times, serif;
        font-size: 24pt;
        font-weight: bold !important;
        text-align: center;
        text-decoration: underline;
      }
      /* HTML H2 Tag Default Style */
      h2 {
        color: #0C0CFF;
        font-family: Garamond, Georgia, "Times New Roman", Times, serif;
        font-size: 18pt;
        font-weight: bold;
      }
       /* HTML H3 Tag Default Style */
      h3 {
        color: #0C0CFF;
        font-family: Garamond, Georgia, "Times New Roman", Times, serif;
        font-size: 14pt;
        font-weight: bold !important;
        text-align: left;
        text-decoration: underline;
      }
      /* HTML PRE Tag Default Style */
      pre {
        margin: 0;
        margin-left: auto;
        margin-right: auto;
        border-width: 0;
        padding-top: 0;
        padding-bottom: 0;
        padding-left: 10px;
        padding-right: 10px;
        inline-size: min-content;
        overflow-wrap: break-word;
      }
      /* HTML CODE Tag Default Style */
      code {
        font-family: "Lucida Console", Lucida, "Courier New", Courier, monospace;
        font-size: 12pt;
        background-color: #C5EDC9;
      }
      /* HTML CAPTION Tag Default Style */
      caption {
        font-family: Garamond, Georgia, "Times New Roman", Times, serif;
        font-size: 12pt !important;
      }
      /* HTML TABLE Tag Default Style */
      table {
        border: none;
        border-collapse: collapse;
        margin-left: auto;
        margin-right: auto;
        max-width: 94%;
      }
      /* HTML TH Tag Default Style */
      th {
        background-color: #F0F0F0;
        border: 4px solid #000000;
        border-collapse: collapse;
        padding: 4px;
        width: auto;
        height: auto;
        text-align: center;
        vertical-align: middle;
        font: normal 12pt Garamond, Georgia, "Times New Roman", Times, serif;
        font-weight: bold;
        hyphens: none;
      }
      /* HTML TD Tag Default Style */
      td {
        border: 4px solid #000000;
        border-collapse: collapse;
        padding: 4px;
        width: auto;
        height: auto;
        text-align: center;
        vertical-align: middle;
        font: normal 12pt Tahoma, Verdana, Arial, Helvetica, sans-serif;
        hyphens: auto;
      }
      td ul {
        list-style-position: outside;
        margin: 0;
        border-width: 0;
        padding: 0;
      }
      td ul li {
        margin-left: 30px;
        border-width: 0;
        padding: 2px;
      }
      .classTdAsTh {
        background-color: #F0F0F0;
        text-align: left;
        font: normal 12pt Garamond, Georgia, "Times New Roman", Times, serif;
        font-weight: bold;
        width: none;
        hyphens: none;
      }
      /* CSS Class Style for no border on the bottom */
      .classNoBorderBottom {
        border-bottom: 4px none #FFFFFF !important;
      }
      /* CSS Class Style for no border on the top */
      .classNoBorderTop {
        border-top: 4px none #FFFFFF !important;
      }
      /* CSS Class Style for no border on the left */
      .classNoBorderLeft {
        border-left: 4px none #FFFFFF !important;
      }
      /* CSS Class Style for no background color */
      .classNoBackgroundColor {
        background-color: transparent; !important;
      }
      /* CSS Class Style for text align left */
      .classTextAlingLeft {
        text-align: left !important;
      }
      /* CSS Class Style for text align center */
      .classTextAlingCenter {
        text-align: center !important;
      }
      /* CSS Class Style for center table in table cell */
      .classTableInTableCenter {
        margin-top: 4px;
        margin-bottom: 4px;
        margin-left: auto;
        margin-right: auto;
      }
      /* CSS Class Style for DIV CODE */
      .divCode {
        background: repeating-linear-gradient( 180deg, #C5EDC9, #C5EDC9 20px, #FEFEFE 20px, #FEFEFE 40px);
        margin-top: 0;
        margin-bottom: 0;
        margin-left: 24px;
        margin-right: 24px;
        border-width: 0;
        padding: 0;
        max-width: 94%;
      }
      .divCode code {
        background-color: inherit;
        line-height: 20px;
      }
      .textAlignLeft {
        text-align: left !important;
      }
      .textAlignRight {
        text-align: right !important;
      }
      .textAlignCenter {
        text-align: center !important;
      }
      /* Override styles when printing */
      @media print {
        body {
          size: A4;
          margin: 1.5cm;
        }
        h1 {
          page-break-before: always;
        }
        h1, h2, h3, h4, h5 {
          page-break-after: avoid;
        }
        table, figure {
          page-break-inside: avoid;
        }
      }
      /* Override styles when printing as a book */
      /* Target all pages */
      @page {
        size: A4;
        margin: 1.5cm;
        h1 {
          page-break-before: always;
        }
        h1, h2, h3, h4, h5 {
          page-break-after: avoid;
        }
        table, figure {
          page-break-inside: avoid;
        }
      }
    </style>
    <!-- * ECMA JavaScript v6.0/2015 * -->
    <script>
      // @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&dn=gpl-3.0.txt GPL-v3-or-Later

      // @license-end
    </script>
  </head>
  <!-- * HTML v5 Body * -->
  <body lang="en">
    <h1>BMP File Format</h1>
    <p>&nbsp;</p>
    <h2>Description</h2>
    <p>
      The <b>BMP</b> (BitMaP) file format, sometimes called <b>DIB</b> file format (for <i>Device&hyphen;Independent Bitmap</i>) or <b>DDB</b> file format 
      (for <i>Device&hyphen;Dependent Bitmap</i>), is an image file format used to store bitmapped digital images, from 1 bit&hyphen;per&hyphen;pixel (bpp) up to 64 bbp. 
      Usual file extensions are: <i>.bmp</i> (for File Header + DIB Header), <i>.dib</i> (for DIB Header) and <i>.ddb</i> (for DDB Header).
    </p>
    <p>
      It's used by Microsoft Windows and the defunct IBM OS/2 operating systems (OS) as theirs native bitmap format and it's widely used and supported by 
      graphics programs and frameworks in the PC marketplace. Its basic design makes it a good as a general&hyphen;purpose format that can be used for colour or black &amp; white
      image storage (if file size is not a factor). The simplicity and widespread support makes easy to implement it on software applications.
    </p>
    <p>
      All the BMP versions originated on Intel based machines and thus share a common little&hyphen;endian heritage. The BMP file
      format is otherwise hardware independent and can accommodate images with up to 32&hyphen;bit colour deep (1, 2, 4, 8, 16, 24, 32 and 64
      bit&hyphen;per&hyphen;pixel).
    </p>
    <p>
      There are currently four versions of BMP under Microsoft Windows (2, 3 [with NT and CE variations], 4 and 5) and two versions under IBM OS/2
      (1 and 2 [with three possible variations]).
    </p>
    <p>&nbsp;</p>
    <h2>History</h2>
    <h3>Microsoft Windows 1.0 BMP v1</h3>
    <p>
      The original BMP file format was created for Microsoft Windows 1.0 (released in 1985<sup><a href="#cite_note-1">[1]</a></sup>) and 
      had a very simple structure. It had no palette (used the same in use by the graphics card), was optimised for 16-bit (<code>WORD</code>),
      did not supported bitmap data compression, and was designed to support the most popular IBM PC graphics cards in use at the time:
      <ul>
        <li><b>IBM Monochrome Display Adapter (MDA)</b><sup><a href="#cite_note-3">[3]</a></sup>: 4 grayscale monochrome colours (of the 2-bit colour deep [B/F+I] palette). 
        <span style="color: #FF0000;">Text only! No graphics capabilities</span>;</li>
        <li><b>IBM Color Graphics Adapter (CGA)</b><sup><a href="#cite_note-4">[4]</a></sup>: 4 bpp = maximum of 16 colours (of the possible 16 colours/4-bit colour deep 
        [R+G+B+I] palette);</li>
        <li><b>IBM Enhanced Graphics Adapter (EGA)</b><sup><a href="#cite_note-5">[5]</a></sup>: 4 bpp = maximum of 16 colours (of the possible 64 colours/6-bit colour deep [R<sub>2</sub>+G<sub>2</sub>+B<sub>2</sub>] palette);</li>
        <li><b>Hercules Graphics Card (HGC/Hercules)</b><sup><a href="#cite_note-6">[6]</a></sup>: 1 bpp = 2 monochrome colours (of the 1-bit colour deep [B/F] palette).</li>
      </ul>
      <b>Note:</b> B/F => 1-bit Background (=0) / Foreground (=1); I => 1-bit Intensity (Off=0, On=1); 
      R => 1-bit Red (Off=0, On=1); G => 1-bit Green (Off=0, On=1); B => 1-bit Blue (Off=0, On=1); 
      R<sub>2</sub> => 2-bit Red (Off=00 to Full On=11); G<sub>2</sub> => 2-bit Green (Off=00 to Full On=11); B<sub>2</sub> => 2-bit Blue (Off=00 to Full On=11).
    </p>
    <p>
      This defunct and short&hyphen;lived format is now often referred to as the original Windows <i>Device&hyphen;Dependent Bitmap</i> (DDB).
    </p>
    <p>
      On monochrome displays, the colour palette is given by the CRT (Cathode-Ray Tube) monitor's phosphor screen used
      <sup><a href="#cite_note-10">[10]</a></sup><sup><a href="#cite_note-11">[11]</a></sup>:
      <ul>
        <li><b>White (P4)</b>: Black &amp; White;</li>
        <li><b>Green (P1)</b>: Black &amp; Green;</li>
        <li><b>Amber (P3)</b>: Black &amp; Amber;</li>
        <li><b>Blue</b>: Black &amp; Blue;</li>
      </ul>
      <b>Note:</b> Blue CRT monitors, were never popular, because blue is the colour that human beings see worst and  blue phosphor brightness fades very quickly.
    </p>
    <h3>Microsoft Windows 2.0 &amp; NT 3.1 &amp; CE 2.0 BMP v2</h3>
    <p>
      As Windows 2.0 (released on 1987<sup><a href="#cite_note-1">[1]</a></sup>) was being developed, EGA<sup><a href="#cite_note-5">[5]</a></sup> ruled the graphics cards and 
      VGA<sup><a href="#cite_note-7">[7]</a></sup> (8 bpp = maximum of 256 colours (of the possible 262,144 colours/18-bit colour deep 
      [R<sub>6</sub>+G<sub>6</sub>+B<sub>6</sub>] output gamut) started to replace it by 1987. So, support for a programmable colour palette for 1 bpp, 4 bpp and 8 bpp 
      was added to Windows OS and the BMP file format, allowing user&hyphen;definable colour data to be stored along with the bitmap data that used it. Also was added support for 
      24 bpp bitmaps with no palette. No compression was supported.
    </p>
    <p>
      When stored in memory and without the <i>BMP File Header</i>, this collection of information is known as a Windows <i>Device&hyphen;Dependent Bitmap</i> (or just DIB).
    </p>
    <p>  
      When this information is written out to a file, it's preceded by the <i>BMP File Header</i>, is known as the Microsoft Bitmap File Format or just (BMP file format). 
      When you hear references to the DIB file format, it is a BMP file format with a <i>.dib</i> file extension and normally without the starting File Header, that is being 
      referred to.
    </p>
    <p>
      The DIB header v2 fields were optimized for 16-bit (<code>WORD</code>) and uses the <i>Color Palette</i> v1 (3 bytes per entry, BGR) and on file, it is preceded by the 
      &nbsp;&nbsp;&nbsp;&nbsp;BMP File Header v1, optimized for 16-bit (<code>WORD</code>) and 32-bit (<code>DWORD</code>).
    </p>
    <p>
      The Windows <i>BMP File Format</i> v2 as the following structure: <br>
      <b>File Header v1 + DIB Header v2 + Color Palette v2 + Bitmap Pixels</b>.
    </p>
    <h3>IBM OS/2 1.x BMP v1</h3>
    <p>
      IBM OS/2 1.0 (released in 1987<sup><a href="#cite_note-2">[2]</a></sup>) BMP and Windows 2.0 BMP file formats are identical and compatible, because during the 
      development OS/2 1.x OS, Microsoft shared responsibility with IBM, while developing its own Windows 2.xx OS.
    </p>
    <p>  
      Thus, the Microsoft Windows <i>BMP File Format</i> v2 and the IBM OS/2 <i>BMP File Format</i> v1, are the same, except for the OS/2 icons, pointers/cursors and 
      bitmaps array, since Microsoft opted for other file formats for Windows 2.xx icons and cursors/pointers (<i>.ico</i> for icons, <i>.cur</i> for cursors/pointers) 
      and no bitmaps array support, opposite to IBM OS/2 1.x that used it extended BMP format.
    </p>
    <h3>Microsoft Windows 3.0 &amp; NT 3.1 &amp; CE 1.0 BMP v3</h3>
    <p>
      When Microsoft Windows 3.0 (released on 1990<sup><a href="#cite_note-1">[1]</a></sup>) hit the market, VGA<sup><a href="#cite_note-7">[7]</a></sup>, 
      SVGA<sup><a href="#cite_note-8">[8]</a></sup> (Super VGA) and XGA<sup><a href="#cite_note-9">[9]</a></sup> graphics cards with 256 colours palettes were the norm, with 
      2D acceleration, High Color (15/16-bit)<sup><a href="#cite_note-12">[12]</a></sup> and True Color (24-bit)<sup><a href="#cite_note-13">[13]</a></sup> becoming the standard.
    </p>
    <p>
      So, the DIB Header structure was expanded by adding Run-Length Encoding (RLE)<sup><a href="#cite_note-14">[14]</a></sup> compression for 4 bpp and 8 bpp bitmaps, was optimized for 32-bit (<code>DWORD</code>), uses the new <i>Color Palette</i> v2 (4 bytes per entry = 1 <code>DWORD</code>, BGRA) with better colour palette detection 
      support and optional image resolution in pixels&hyphen;per&hyphen;meter (ppm).
    </p>
    <p>
      The Windows <i>BMP File Format</i> v3 as the following structure: <br>
      &nbsp;&nbsp;&nbsp;&nbsp;<b>File Header v1 + DIB Header v3 + Palette v2 + Bitmap Pixels</b>.
    </p>
    <h3>IBM OS/2 2.0 BMP v2</h3>
    <p> 
      IBM OS/2 2.0 (released on 1993 <sup><a href="#cite_note-2">[2]</a></sup>), also used the Windows 3.xx BMP file format as its base and maintaining compatibility with 
      Windows 3.xx. IBM added some little used features that were exclusive of OS/2 <i>BMP File Format</i> v2:
      <ul>
        <li>Huffman 1D compression for 1 bpp bitmaps;</li>
        <li>RLE compression for 24 bpp bitmaps;</li>
        <li>Halftoning.</li>
      </ul>
      <b>Note:</b> At this time Microsoft no longer cooperated with IBM on OS/2 development.
    </p>
    <p>
      The IBM OS/2 v2.x and above, supported 3 versions (<i>aka</i> sizes) of OS/2 <i>BMP File Format</i> v2 file format:
      <ul>
        <li>16 Bytes: Same as Windows BMP v2 and OS/2 v1, but with the fields optimized for 32-bit (<code>DWORD</code>) and uses the <i>Color Palette</i> v2 (4 bytes per entry, 
        BGRA = 1 <code>DWORD</code>), except that Huffman 1D and 24-bit RLE compression is not supported by the Windows OS APIs;</li>
        <li>40 Bytes: Same as Windows BMP v3, except that Huffman 1D and 24-bit RLE compression is not supported by the Windows OS APIs and
        16 and 32 bpp colour deep aren't supported by OS/2 OS APIs;</li>
        <li>64 Bytes: Supports all OS/2 BMP v2 functionality like Huffman 1D and 24-bit RLE compression, halftoning.</li>
      </ul>
    </p>
    <h3>Microsoft Windows NT 3.5 BMP v3</h3>
    <p>
      The BMP file format created Windows NT 3.5 (released on 1994<sup><a href="#cite_note-1">[1]</a></sup>) is the same as Windows 3.xx, but with 
      16 bpp and 32 bpp bitmaps support, by adding 3 <code>DWORD</code> RGB bitfields masks after the DIB header v3 and before the optional <i>Color Palette</i> v2 for 
      15/16 bpp and 32 bpp images.
    </p>
    <h3>Microsoft Windows CE 1.0 BMP v3</h3>
    <p>
      For Microsoft Windows CE 1.0 (released on 1996 <sup><a href="#cite_note-1">[1]</a></sup>), Microsoft changed the specification of Windows 3.xx, in order that 2 bpp 
      (4 grayscale colours palette) bitmaps could be supported [only] by Windows CE OS family. This is the only colour deep and DIB header structure supported by Windows CE 1.0.
    </p>
    <h3>Microsoft Windows CE 5.0 BMP v3</h3>
    <p>
      For Microsoft Windows CE 5 + .NET (released on 2004 <sup><a href="#cite_note-1">[1]</a></sup>), Microsoft extended the specification of Windows CE BMP v3, in order that 
      16 bpp and 32 bpp bitmaps support could be added to the Windows CE OS family, by adding 4 <code>DWORD</code> bitfields masks after the DIB header v3 and before the 
      optional colour palette v2 for 15/16 bpp and 32 bpp image (similar to Windows NT BMP v3).
    </p>
    <h3>Microsoft Windows 95 &amp; NT 4 BMP v4</h3>
    <p>
      By this time SVGA and 16-bit colour deep was the norm. During the development of Windows 95, NT, 4.0 and CE 5.0, Microsoft created the Windows BMP v4 specification, on top of Windows BMP v3, by
      adding 16 and 32 bits‐per‐pixel colour deep, RGBA bitfields and ICM colour correction profiles.
    </p>
    <h3>Microsoft Windows 98 &amp; 2000 BMP v5</h3>
    <p>
      By now, 3D accelerated XGA resolution with 32-bit colour deep were the norm. For Windows 98 and 2000, Microsoft created the Windows BMP v5 specification, on top of Windows BMP v4, by adding more ICM colour
      correction profiles support by external or embed ICM profiles files.
    </p>
    <p>&nbsp;</p>
    <h2>BMP File Structure According It's Version</h2>
    <table id="TableBMP">
      <thead>
        <tr>
          <th colspan="5" class="classNoBorderBottom">Microsoft Windows</th>
          <th colspan="2" class="classNoBorderBottom">IBM OS/2</th>
        </tr>
        <tr>
          <th class="classNoBorderTop" style="font-size: 13pt;">1.01</th>
          <th class="classNoBorderTop" style="font-size: 12pt;">2.01 / NT 3.1 / CE 2.0</th>
          <th class="classNoBorderTop" style="font-size: 12pt;">3.0 / NT 3.1 / CE 1.0</th>
          <th class="classNoBorderTop" style="font-size: 13pt;">95 / NT 4.0</th>
          <th class="classNoBorderTop" style="font-size: 13pt;">98 / 2000</th>
          <th class="classNoBorderTop" style="font-size: 13pt;">1.0</th>
          <th class="classNoBorderTop" style="font-size: 13pt;">2.0</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td style="vertical-align: top; text-align: center; margin: auto;">
            <table class="classTableInTableCenter" style="border: 1px solid #000000;">
              <tbody>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #FFC0C0;">
                    <p style="text-align: center;">
                      Resource Header<br>
                      <span style="color: #ff0000; font-size: 10px;">* OPTIONAL *</span>
                    </p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #C0C0FF;">
                    <p style="text-align: center;">
                      DDB Header
                    </p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #FFC0C0;">
                    <p style="text-align: center;">
                      Resource Header Memory Pointer to Bitmap Pixels<br>
                      <span style="color: #ff0000; font-size: 10px;">* SEMI-OPTIONAL *</span>
                    </p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #DEFFDE;">
                    <p style="text-align: center;">DDB Bitmap Pixels</p>
                  </td>
                </tr>
              </tbody>
            </table>
          </td>
          <td style="vertical-align: top; text-align: center; margin: auto;">
            <table class="classTableInTableCenter" style="border: 1px solid #000000;">
              <tbody>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #0C0CFF;">
                    <p style="text-align: center;">File Header v1</p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #BAEFE5;">
                    <p style="text-align: center;">DIB Header v2</p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #F0F50F;">
                    <p style="text-align: center;">
                      Color Table v1<br>
                      <span style="color: #ff0000; font-size: 10px;">* SEMI-OPTIONAL *</span>
                    </p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #FF00FF;">
                    <p style="text-align: center;">
                      Gap 1<br>
                      <span style="color: #ff0000; font-size: 10px;">* OPTIONAL *</span>
                    </p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #00FF00;">
                    <p style="text-align: center;">Bitmap Pixels</p>
                  </td>
                </tr>
              </tbody>
            </table>
          </td>
          <td style="vertical-align: top; text-align: center; margin: auto;">
            <table class="classTableInTableCenter" style="border: 1px solid #000000;">
              <tbody>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #0C0CFF;">
                    <p style="text-align: center;">File Header v1</p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #CAFFF0;">
                    <p style="text-align: center;">DIB Header v3</p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #FFFF00;">
                    <p style="text-align: center;">
                      Color Table v2<br>
                      <span style="color: #ff0000; font-size: 10px;">* SEMI-OPTIONAL *</span>
                    </p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #FF00FF;">
                    <p style="text-align: center;">
                      Gap 1<br>
                      <span style="color: #ff0000; font-size: 10px;">* OPTIONAL *</span>
                    </p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #00FF00;">
                    <p style="text-align: center;">Bitmap Pixels</p>
                  </td>
                </tr>
              </tbody>
            </table>
          </td>
          <td style="vertical-align: top; text-align: center; margin: auto;">
            <table class="classTableInTableCenter" style="border: 1px solid #000000;">
              <tbody>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #0C0CFF;">
                    <p style="text-align: center;">File Header v1</p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #CAFFF0;">
                    <p style="text-align: center;">DIB Header v4</p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #FFFF00;">
                    <p style="text-align: center;">
                      Color Table v2<br>
                      <span style="color: #FF0000; font-size: 10px;">* SEMI-OPTIONAL *</span>
                    </p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #FF00FF;">
                    <p style="text-align: center;">
                      Gap 1<br>
                      <span style="color: #FF0000; font-size: 10px;">* OPTIONAL *</span>
                    </p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #00FF00;">
                    <p style="text-align: center;">Bitmap Pixels</p>
                  </td>
                </tr>
              </tbody>
            </table>
          </td>
          <td style="vertical-align: top; text-align: center; margin: auto;">
            <table class="classTableInTableCenter" style="border: 1px solid #000000;">
              <tbody>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #0C0CFF;">
                    <p style="text-align: center;">File Header v1</p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #CAFFF0;">
                    <p style="text-align: center;">DIB Header v5</p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #FFFF00;">
                    <p style="text-align: center;">
                      Color Table v2<br>
                      <span style="color: #FF0000; font-size: 10px;">* SEMI-OPTIONAL *</span>
                    </p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #FF00FF;">
                    <p style="text-align: center;">
                      Gap 1<br>
                      <span style="color: #FF0000; font-size: 10px;">* OPTIONAL *</span>
                    </p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #00FF00;">
                    <p style="text-align: center;">Bitmap Pixels</p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #FF00FF;">
                    <p style="text-align: center;">
                      Gap 2<br>
                      <span style="color: #FF0000; font-size: 10px;">* OPTIONAL *</span>
                    </p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #C0C0C0;">
                    <p style="text-align: center;">
                      ICC Color Profile v1<br>
                      <span style="color: #FF0000; font-size: 10px;">* SEMI-OPTIONAL *</span>
                    </p>
                  </td>
                </tr>
              </tbody>
            </table>
          </td>
          <td style="vertical-align: top; text-align: center; margin: auto;">
            <table class="classTableInTableCenter" style="border: 1px solid #000000;">
              <tbody>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #0C0CFF;">
                    <p style="text-align: center;">File Header v1</p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #BAEFE5;">
                    <p style="text-align: center;">Bitmap Header v1</p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #F0F50F;">
                    <p style="text-align: center;">
                      Colour Palette v1<br>
                      <span style="color: #FF0000; font-size: 10px;">* SEMI-OPTIONAL *</span>
                    </p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #FF00FF;">
                    <p style="text-align: center;">
                      Gap 1<br>
                      <span style="color: #FF0000; font-size: 10px;">* OPTIONAL *</span>
                    </p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #00FF00;">
                    <p style="text-align: center;">Bitmap Data</p>
                  </td>
                </tr>
              </tbody>
            </table>
          </td>
          <td style="vertical-align: top; text-align: center; margin: auto;">
            <table class="classTableInTableCenter" style="border: 1px solid #000000;">
              <tbody>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #0C0CFF;">
                    <p style="text-align: center;">File Header v1</p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #CAFFF0;">
                    <p style="text-align: center;">Bitmap Header v2</p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #FFFF00;">
                    <p style="text-align: center;">
                      Color Palette v2<br>
                      <span style="color: #FF0000; font-size: 10px;">* SEMI-OPTIONAL *</span>
                    </p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #FF00FF;">
                    <p style="text-align: center;">
                      Gap 1<br>
                      <span style="color: #FF0000; font-size: 10px;">* OPTIONAL *</span>
                    </p>
                  </td>
                </tr>
                <tr>
                  <td style="border: 1px solid #000000 !important; border-collapse: collapse; width: 140px; background-color: #00FF00;">
                    <p style="text-align: center;">Bitmap Data</p>
                  </td>
                </tr>
              </tbody>
            </table>
          </td>
        </tr>
      </tbody>
    </table>
    <p>&nbsp;</p>
    <h2>BMP File Gap 1 and Gap 2</h2>
    <p>
      The <b>Gap 1</b> and <b>Gap 2</b> on the bitmap file format, are optional and so, they can be 0 bytes.
      When both gaps are set to zero (0), the bitmap is called a <i>Packed DIB</i>.<br>
      On <i>packed DIBs</i> in memory, the <i>Windows Bitmap Pixels Array</i> and <i>OS/2 Bitmap Data</i>, must start at a memory address that is a multiple of 4 bytes.
      In some cases, it may be necessary to adjust the number of entries in the colour table in order to force the memory address alignment.<br>
      The optional ICC colour correction profile data, should immediately follow the pixel array data, if used.
    </p>
    <p>
      <b>Note: </b><i>Packed DIBs</i> are required by Windows clipboard, patterned brush, resources APIs functions as well as others <b>Win32</b> APIs.
    </p>
    <p>
      <b>Gap 1</b> is for aligning the <i>Windows Bitmap Pixels</i> / <i>OS/2 Bitmap Data</i> values and <b>Gap 2</b> the ICC (International Color Consortium) Color Correction
      Profile v1 data values, case it exists.
    </p>
    <p>
      Their existence is for speeding the read and write operations from/to the file, by aligning the structures to a 16&hyphen;bit, 32&hyphen;bit or 64&hyphen;bit
      word (unsigned integer), according the OS platform CPU word. Aligning to 32&hyphen;bit (a <code>DWORD</code> on <b>Win32</b>), should
      produce the best results. For in-memory DIBs, is better to use <i>packed DIBs</i>, <i>aka</i> <b>Gap 1</b> and <b>Gap 2</b> equal to 0 bytes.
    </p>
    <p>&nbsp;</p>
    <h2>BMP File Windows DDB Bitmap Pixels, Windows Bitmap Pixels and OS/2 Bitmap Data</h2>
    <p>
      For <i>Windows DDB Bitmap Pixels</i>, the pixels values follow immediately after the <i>File Header v1 +
      Windows DDB Header v1</i>.<br>
      It consists of <code>Height</code> scan lines, with the size, in bytes of <code>ByteWidth</code>. Must be aligned to 8&hyphen;bit:<br>
      &nbsp;&nbsp;&nbsp;&nbsp;<code>ByteWidth = ((Width * BitsPerPixel) / 8) + 1;</code><br>
      The total size of the <i>Windows DDB Bitmap Pixels</i>, can be calculated by the formula:<br>
      &nbsp;&nbsp;&nbsp;&nbsp;<code>DdbSize = BITMAP16.Height * BITMAP16.ByteWidth);</code><br>
      Each pixel value occupies <code>BITMAP16.BitsPerPixel</code> bits on the scan line, from left to right.<br>
      This value is an index to the Windows OS system palette. The padding is ignored and normally is 0.
    </p>
    <p>
      For <i>Windows Bitmap Pixels</i> and <i>OS/2 Bitmap Data</i>, the pixels values follow immediately after the
      <i>Windows Color Table</i> or <i>OS/2 Color Palette</i> + <b>Gap 1</b> (the value pointed by
      <code>BITMAPFILEHEADER.BitmapOffset</code>).<br>
      It consists of <code>Height</code> scan lines, with the size, in bytes of <code>ByteWidth</code>. Must be aligned to 32&hyphen;bit:<br>
      &nbsp;&nbsp;&nbsp;&nbsp;<code>scanLineSize = 4 * (((BitmapHeader.Width * BitmapHeader.BitsPerPixel) + 31) / 32);</code><br>
      If <code>Height</code> &lt; 0 then the scan lines are stored top&hyphen;down <i>i.e.</i>, its origin is the upper left corner of the bitmap (0, 0). Else if
      <code>Height</code> &gt; 0, then it's stored bottom&hyphen;up <i>i.e.</i>, its origin is the lower left corner of the bitmap (0, Last-Y).<br>
      The total size of the <i>Windows Bitmap Pixels</i> or <i>OS/2 Bitmap Data</i>, can be calculated by the formula:<br>
      &nbsp;&nbsp;&nbsp;&nbsp;<code>DibSize = Height * scanLineSize);</code><br>
      Each pixel value occupies <code>BitsPerPixel</code> bits on the scan line, from left to right.<br>
      This value is an index to the bitmap palette (for bits&hyphen;per&hyphen;pixel &le; 8) or the pixel colour (for bits&hyphen;per&hyphen;pixel &ge; 16).<br>
      The padding is ignored and normally is 0.
    </p>
    <p>&nbsp;</p>
    <h2>BMP File Header v1 + Windows DDB Header <span style="color: #00FF00;">(12 Bytes)</span></h2>
    <p>This header/structure has created for Microsoft Windows 1.01 bitmaps and supported until at least Windows 2.03. All the integer values are
      stored in little&hyphen;endian format (<i>i.e.</i> least&hyphen;significant byte first). It has a total size of 10 bytes.
    </p>
    <p>This block of bytes is at the start of the file and is used to identify the file as an BMP
      file and that it is not damaged.
    </p>
    <p>DDB files contain only a 12 bytes file header followed by uncompressed bitmap data.</p>
    <p>
      The image data immediately follows the header and is stored in an uncompressed format. Each pixel stores an index value into
      the fixed system colour map used by Windows 1.0x. The presence of scan line margin may be determined by comparing the calculated
      width of a line in bytes with the actual width of the line in bytes stored as the value of the <code>BITMAP16.bmWidthBytes</code> field.
    </p>
    <p>
      The minimum value of <code>BITMAP16.bmWidthBytes</code>, can be calculated by the formula:<br>
      &nbsp;&nbsp;&nbsp;&nbsp;<code>BITMAP16.bmWidthBytes = ((BITMAP16.bmWidth * BITMAP16.bmBitsPerPixel)  + 7) / 8;</code>
    </p>
    <p>
      On the examples I found online <a href="https://www.charlespetzold.com/src/ProgWin1.zip" target="_blank">Charles Petzold Books - &quot;Programming Windows, 1st edition&quot; Source Code</a>, <br>
      the structure defined on <a href="#Table1">Table 1</a>, and also referred on <a href="http://fileformats.archiveteam.org/wiki/Windows_DDB" target="_blank">&quot;Windows DDD&quot;</a>, <br>
      is preceded by:
      <table id="Table0">
        <thead>
          <tr>
            <th>Offset#</th>
            <th>Size (Bytes)</th>
            <th>Type</th>
            <th>Field Name</th>
            <th style="max-width: 500px;">Purpose</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>0000h</td>
            <td>2</td>
            <td>16&hyphen;bit unsigned</td>
            <td>ResourceFileType</td>
            <td class="classTextAlingLeft">
              The following valid values are possible:
              <ul>
                <li>
                  <b>0002h</b> (<code>RT_BITMAP</code>) - Resource Bitmap Non-Discardable;
                </li>
                <li>
                  <b>0102h</b> (<code>RT_BITMAP | 0x0100</code>) - Resource Bitmap Discardable.
                </li>
              </ul>
            </td>
          </tr>
        </tbody>
      </table>
    </p>
    <p>
      On <a href="#Table1">Table 1</a>, and also referred on <a href="http://fileformats.archiveteam.org/wiki/Windows_DDB" target="_blank">&quot;Windows DDB&quot;</a>, <br>
      the <code>BITMAP16</code> structure also have at the end a <code>DWORD</code> for <code>BITMAP16.bmBits</code> that serves as a memory pointer to the bitmap pixels.<br>
      In a file on disk, the <code>BITMAP16.bmBits</code> field is usually not used (it's not clear whether some formats omit it entirely). So is set to 0.
    </p>
    <p>&nbsp;</p>
    <table id="Table1">
      <caption><b>Table 1:</b> Windows 1.0 File and DDB Header BITMAP16 structure</caption>
      <thead>
        <tr>
          <th>Offset 1#</th>
          <th>Offset 2#</th>
          <th>Size (Bytes)</th>
          <th>Type</th>
          <th>Field Name</th>
          <th style="max-width: 500px;">Purpose</th>
        </tr>
      </thead>
      <tbody>
        <tr style="color: #FF0000;">
          <td>0000h</td>
          <td></td>
          <td>2</td>
          <td>16&hyphen;bit unsigned</td>
          <td>ResourceFileType</td>
          <td class="classTextAlingLeft">
            The following valid values are possible:
            <ul>
              <li>
                <b>0002h</b> (<code>RT_BITMAP</code>) - Resource Bitmap Non-Discardable;
              </li>
              <li>
                <b>0102h</b> (<code>RT_BITMAP | 0x0100</code>) - Resource Bitmap Discardable.
              </li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>0002h</td>
          <td>0000h</td>
          <td>2</td>
          <td>16&hyphen;bit unsigned</td>
          <td>bmType</td>
          <td class="classTextAlingLeft">The magic number used to identify the BMP file (always 0).</td>
        </tr>
        <tr>
          <td>0004h</td>
          <td>0002h</td>
          <td>2</td>
          <td>16&hyphen;bit unsigned</td>
          <td>bmWidth</td>
          <td class="classTextAlingLeft">The bitmap image width, in pixels (must be &gt; 0).</td>
        </tr>
        <tr>
          <td>0006h</td>
          <td>0004h</td>
          <td>2</td>
          <td>16&hyphen;bit unsigned</td>
          <td>bmHeight</td>
          <td class="classTextAlingLeft">The bitmap image height, in pixels (must be &gt; 0).</td>
        </tr>
        <tr>
          <td>0008h</td>
          <td>0006h</td>
          <td>2</td>
          <td>16&hyphen;bit unsigned</td>
          <td>bmWidthBytes</td>
          <td class="classTextAlingLeft">The width of the bitmap in bytes, per scan line. It is assumed that this value will
            include the size of any scan line margin that is present.
          </td>
        </tr>
        <tr>
          <td>000Ah</td>
          <td>0008h</td>
          <td>1</td>
          <td>8&hyphen;bit unsigned</td>
          <td>bmPlanes</td>
          <td class="classTextAlingLeft">The number of colour planes used to store the bitmap. This value is always 1.</td>
        </tr>
        <tr>
          <td>000Bh</td>
          <td>0009h</td>
          <td>1</td>
          <td>8&hyphen;bit unsigned</td>
          <td>bmBitsPixel</td>
          <td class="classTextAlingLeft">
            The number of bits&hyphen;per&hyphen;pixel.<br>
            The following valid values are possible:
            <ul>
              <li><b>1</b> - &nbsp;&nbsp;2 colours monochrome bitmap (MDA &amp; Hercules)</li>
              <li><b>4</b> - &nbsp;16 colours bitmap (CGA &amp; EGA)</li>
              <li><b>8</b> - 256 colours bitmap (VGA)</li>
            </ul>
          </td>
        </tr>
        <tr style="color: #FF0000;">
          <td>000Ch</td>
          <td></td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>bmBits</td>
          <td class="classTextAlingLeft">
            On a disk file, this value is always 0.<br>
            On memory, serves as a memory pointer to the bitmap pixels.
          </td>
        </tr>
      </tbody>
    </table>
    <p>&nbsp;</p>
    <h2>BMP File Header v1 <span style="color: #00FF00;">(14 Bytes)</span></h2>
    <p>
      This header/structure has created for Microsoft Windows 2.0 and IBM OS/2 1.0 bitmaps and is supported until nowadays. All the integer values are stored
      in little&hyphen;endian format (<i>i.e.</i> least&hyphen;significant byte first). It has a total size of 14 bytes.
    </p>
    <p>This block of bytes is at the start of the file and is used to identify the file as an BMP file
      and that it is not damaged.
    </p>
    <p>The first two bytes of the BMP file format are normally the character &#39;B&#39; and then
      the character &#39;M&#39; in 1-byte ASCII encoding.
    </p>
    <table id="Table2">
      <caption><b>Table 2:</b> Windows BITMAPFILEHEADER and OS/2 OS2BMPFILEHEADER structures</caption>
      <thead>
        <tr>
          <th rowspan="2">Offset#</th>
          <th rowspan="2">Size (Bytes)</th>
          <th colspan="2" class="classNoBorderBottom">BITMAPFILEHEADER</th>
          <th colspan="2" class="classNoBorderBottom">OS2BMPFILEHEADER</th>
          <th rowspan="2" style="max-width: 500px;">Purpose</th>
        </tr>
        <tr>
          <th class="classNoBorderTop">Type</th>
          <th class="classNoBorderTop">Field Name</th>
          <th class="classNoBorderTop">Type</th>
          <th class="classNoBorderTop">Field Name</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>0000h</td>
          <td>2</td>
          <td>16&hyphen;bit unsigned</td>
          <td>bfType</td>
          <td>16&hyphen;bit unsigned</td>
          <td>usType</td>
          <td class="classTextAlingLeft">
            The magic number (in ASCII) used to identify the BMP file.<br>
            The following valid values are possible:
            <table>
              <tbody>
                <tr>
                  <th>Value</th>
                  <th>ASCII</th>
                  <th>OS/2 Macro</th>
                  <th style="max-width: 460px;">Description</th>
                </tr>
                <tr>
                  <td>4D42h</td>
                  <td><b>BM</b></td>
                  <td><code>BFT_BMAP</code></td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">Windows or OS/2 Bitmap.</td>
                </tr>
                <tr>
                  <td>4142h</td>
                  <td><b>BA</b></td>
                  <td><code>BFT_BITMAPARRAY</code></td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">OS/2 Bitmap Array.</td>
                </tr>
                <tr>
                  <td>4349h</td>
                  <td><b>IC</b></td>
                  <td><code>BFT_ICON</code></td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">OS/2 Icon.</td>
                </tr>
                <tr>
                  <td>4943h</td>
                  <td><b>CI</b></td>
                  <td><code>BFT_COLORICON</code></td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">OS/2 Color Icon.</td>
                </tr>
                <tr>
                  <td>5043h</td>
                  <td><b>CP</b></td>
                  <td><code>BFT_COLORPOINTER</code></td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">OS/2 Color Pointer.</td>
                </tr>
                <tr>
                  <td>5450h</td>
                  <td><b>PT</b></td>
                  <td><code>BFT_POINTER</code></td>
                  <td class="classTextAlingLeft" style="max-width: 460px;"> OS/2 Pointer.</td>
                </tr>
              </tbody>
            </table>
          </td>
        </tr>
        <tr>
          <td>0002h</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>bfSize</td>
          <td>32&hyphen;bit unsigned</td>
          <td>cbSize</td>
          <td class="classTextAlingLeft">The total size of the BMP file, in bytes and should agree with the file size reported by the filesystem.<br>
            Is only useful when the bitmap data is compressed, and this value is usually zero in uncompressed BMP files.<br>
            This value is typically 0.
          </td>
        </tr>
        <tr>
          <td>0006h</td>
          <td>2</td>
          <td>16&hyphen;bit unsigned</td>
          <td>bfReserved1</td>
          <td>16&hyphen;bit unsigned</td>
          <td>xHotspot</td>
          <td class="classTextAlingLeft">
            <b>Windows:</b>&nbsp;Reserved (must be 0).<br>
            <b>OS/2:</b>&nbsp;X coordinate of the central point of the hotspot. Only valid for icons and pointers.<br>
            These coordinates are relative to the lower&hyphen;left corner of the bitmap.
          </td>
        </tr>
        <tr>
          <td>0008h</td>
          <td>2</td>
          <td>16&hyphen;bit unsigned</td>
          <td>bfReserved2</td>
          <td>16&hyphen;bit unsigned</td>
          <td>yHotspot</td>
          <td class="classTextAlingLeft">
            <b>Windows:</b>&nbsp;Reserved (must be 0).<br>
            <b>OS/2:</b>&nbsp;Y coordinate of the central point of the hotspot. Only valid for icons and pointers.<br>
            These coordinates are relative to the lower&hyphen;left corner of the bitmap.
          </td>
        </tr>
        <tr>
          <td>000Ah</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>bfOffBits</td>
          <td>32&hyphen;bit unsigned</td>
          <td>offBits</td>
          <td class="classTextAlingLeft">The offset, <i>i.e.</i> starting address, of the byte where the bitmap pixels/data can be found.</td>
        </tr>
      </tbody>
    </table>
    <p>&nbsp;</p>
    <h2>BMP Windows Color Table v1 and OS/2 Color Palette v1 <span style="color: #00FF00;">(3 Bytes)</span></h2>
    <p>
      This header/structure has created for Microsoft Windows 2.x and IBM OS/2 1.x bitmaps. All the integer values are stored in
      little&hyphen;endian format (<i>i.e.</i> least&hyphen;significant byte first). Can only be used with Windows DIB Header v2 and
      OS/2 Bitmap Header v1 (Windows <code>BITMAPCOREHEADER</code> or OS/2 <code>OS21XBITMAPHEADER</code> structures). It has a
      total size of 3 bytes.
    </p>
    <p>
      This is the third header in the file, if present, and follows immediately the Windows DIB Header v2 and OS/2 Bitmap Header v1
      (Windows <code>BITMAPCOREHEADER</code> or OS/2 <code>OS21XBITMAPHEADER</code> structures). Is used to store the BMP palette.
    </p>
    <p>This header/structure is mandatory for bitmaps with less or equal than 8 bits&hyphen;per&hyphen;pixel
      (1, 4 and 8). It's optional for bitmaps with more than 8 bits&hyphen;per&hyphen;pixel (24)
    </p>
    <p>The Colour Palette/Table should be order by importance, <i>i.e.</i>, most used colours first.</p>
    <p>
      The maximum number of entries on the colour Palette/Table 2<sup><i>n</i></sup> (where <i>n</i> is the number of bits&hyphen;per&hyphen;pixel),
      can be calculated by the formula:<br>
      &nbsp;&nbsp;&nbsp;&nbsp;<code>MaxNumberOfEntries = 1 &lt;&lt; BitsPerPixel;</code><br>
      To detect the presence of a colour palette in a BMP file, use this formula:
    </p>
    <div class="divCode"><pre><code>
RGBTRIPLE ColorPalette_RGB[];
int NumberOfEntries = 0;
int StartOfPalBytes = 0;
int MaxNumberOfEntries = 0;

if ((BitmapCoreHeader.bcBitCount == 8) || (BitmapCoreHeader.bcBitCount == 4) || (BitmapCoreHeader.bcBitCount == 1)) {
&nbsp;&nbsp;MaxNumberOfEntries = 1 &lt;&lt; BitmapCoreHeader.bcBitCount;
&nbsp;&nbsp;StartOfPalBytes = sizeof(BITMAPFILEHEADER) + BitmapCoreHeader.bcSize;
&nbsp;&nbsp;NumberOfEntries = (BitmapFileHeader.bfOffBits - StartOfPalBytes) / sizeof(RGBTRIPLE);
&nbsp;&nbsp;if (NumberOfEntries &lt; 0) {
&nbsp;&nbsp;&nbsp;&nbsp;/* ERROR: No Color Palette */
&nbsp;&nbsp;&nbsp;&nbsp;NumberOfEntries = 0;
&nbsp;&nbsp;}
&nbsp;&nbsp;if (NumberOfEntries &gt; MaxNumberOfEntries) {
&nbsp;&nbsp;&nbsp;&nbsp;NumberOfEntries = MaxNumberOfEntries;
&nbsp;&nbsp;}
&nbsp;&nbsp;ColorPalette_RGB = loadColorPalette_RGB(StartOfPalBytes, NumberOfEntries);
}
else {
&nbsp;&nbsp;if (BitmapCoreHeader.bcBitCount == 24) {
&nbsp;&nbsp;&nbsp;&nbsp;/* OK: 24 bpp bitmaps have no Color palette */
&nbsp;&nbsp;&nbsp;&nbsp;NumberOfEntries = 0;
&nbsp;&nbsp;}
&nbsp;&nbsp;else {
&nbsp;&nbsp;&nbsp;&nbsp;/* ERROR: Invalid bpp format */
&nbsp;&nbsp;}
}
    </code></pre></div>
	  <p>&nbsp;</p>
    <table id="Table3">
      <caption><b>Table 3:</b> Windows RGBTRIPLE and OS/2 OS21XPALETTEELEMENT structures</caption>
      <thead>
        <tr>
          <th rowspan="2">Offset#</th>
          <th rowspan="2">Size (Bytes)</th>
          <th colspan="2" class="classNoBorderBottom">RGBTRIPLE</th>
          <th colspan="2" class="classNoBorderBottom">OS21XPALETTEELEMENT</th>
          <th rowspan="2" style="max-width: 500px;">Purpose</th>
        </tr>
        <tr>
          <th class="classNoBorderTop">Type</th>
          <th class="classNoBorderTop">Field Name</th>
          <th class="classNoBorderTop">Type</th>
          <th class="classNoBorderTop">Field Name</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>0000h</td>
          <td>1</td>
          <td>8&hyphen;bit unsigned</td>
          <td>rgbtBlue</td>
          <td>8&hyphen;bit unsigned</td>
          <td>bBlue</td>
          <td class="classTextAlingLeft">The blue component intensity value of the RGB colour (must be between 0 and 255).</td>
        </tr>
        <tr>
          <td>0001h</td>
          <td>1</td>
          <td>8&hyphen;bit unsigned</td>
          <td>rgbtGreen</td>
          <td>8&hyphen;bit unsigned</td>
          <td>bGreen</td>
          <td class="classTextAlingLeft">The green component intensity value of the RGB colour (must be between 0 and 255).</td>
        </tr>
        <tr>
          <td>0002h</td>
          <td>1</td>
          <td>8&hyphen;bit unsigned</td>
          <td>rgbtRed</td>
          <td>8&hyphen;bit unsigned</td>
          <td>bRed</td>
          <td class="classTextAlingLeft">The red component intensity value of the RGB colour (must be between 0 and 255).</td>
        </tr>
      </tbody>
    </table>
    <p>&nbsp;</p>
    <h2>BMP Windows Color Table v2 and OS/2 Color Palette v2 <span style="color: #00FF00;">(4 Bytes)</span></h2>
    <p>
      This header/structure has created for Microsoft Windows 3.x and IBM OS/2 2.x bitmaps. All the integer values are stored in
      little&hyphen;endian format (<i>i.e.</i> least&hyphen;significant byte first). Can only be used with Windows DIB Header
      v3/v4/v5 and OS/2 Bitmap Header v2 (Windows <code>BITMAPINFOHEADER</code>/<code>BITMAPV4HEADER</code>/<code>BITMAPV5HEADER</code>
      or OS/2 <code>OS22XBITMAPHEADER</code> structures). It has a total size of 4 bytes.
    </p>
    <p>
      This is the third header in the file, if present, and follows immediately the Windows DIB Header v2 and OS/2 Bitmap Header v1
      (Windows <code>BITMAPCOREHEADER</code> or OS/2 <code>OS21XBITMAPHEADER</code> structures). Is used to store the BMP palette.
    </p>
    <p>This header/structure is mandatory for bitmaps with less or equal than 8 bits&hyphen;per&hyphen;pixel
      (1, 4 and 8). It's optional for bitmaps with more than 8 bits&hyphen;per&hyphen;pixel (24)
    </p>
    <p>The Color Palette/Table should be order by importance, <i>i.e.</i>, most used colours first.</p>
    <p>
      The maximum number of entries on the Color Palette/Table 2<sup><i>n</i></sup> (where <i>n</i> is the number of bits&hyphen;per&hyphen;pixel),
      can be calculated by the formula:<br>
      &nbsp;&nbsp;&nbsp;&nbsp;<code>MaxNumberOfEntries = 1 &lt;&lt; BitsPerPixel;</code><br>
      To detect the presence of a colour palette in a BMP file, use this formula:
    </p>
    <div class="divCode"><pre><code>
int StartOfPalBytes = 0;
int NumberOfMasks = 0;
int NumberOfMasksBytes = 0;
int NumberOfEntries = 0;
int MaxNumberOfEntries = 1 &lt;&lt; BitmapInfoHeader.biBitCount;
if (BitmapInfoHeader.biSize == sizeof(BITMAPINFOHEADER) {
&nbsp;&nbsp;&nbsp;&nbsp;if (BitmapInfoHeader.biCompression == BI_BITFIELDS) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (BitmapInfoHeader.biBitCount == 16) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NumberOfMasks = 3;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (BitmapInfoHeader.biBitCount == 32) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NumberOfMasks = 4;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;else {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (BitmapInfoHeader.biCompression == BI_ALPHABITFIELDS) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NumberOfMasks = 4;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}
}
if (NumberOfMasks &gt; 0) {
&nbsp;&nbsp;&nbsp;&nbsp;NumberOfMasksBytes = NumberOfMasks * sizeof(RGBQUAD);
&nbsp;&nbsp;&nbsp;&nbsp;BitmapInfoHeader.biSize = BitmapInfoHeader.biSize + NumberOfMasksBytes;
}
StartOfPalBytes = sizeof(BITMAPFILEHEADER) + BitmapInfoHeader.biSize;
if (BitmapFileHeader.bfOffBits &lt; StartOfPalBytes) {
&nbsp;&nbsp;&nbsp;&nbsp;/* ERROR: No Bitfields masks */
&nbsp;&nbsp;&nbsp;&nbsp;BitmapInfoHeader.biSize = BitmapInfoHeader.biSize - NumberOfMasksBytes;
&nbsp;&nbsp;&nbsp;&nbsp;NumberOfMasks = 0;
&nbsp;&nbsp;&nbsp;&nbsp;NumberOfMasksBytes = 0;
&nbsp;&nbsp;&nbsp;&nbsp;StartOfPalBytes = sizeof(BITMAPFILEHEADER) + BitmapInfoHeader.biSize;
&nbsp;&nbsp;&nbsp;&nbsp;/*
&nbsp;&nbsp;&nbsp;&nbsp;Set default Bitfields masks for:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BitmapInfoHeader.bV4RedMask,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BitmapInfoHeader.bV4GreenMask,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BitmapInfoHeader.bV4BlueMask,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BitmapInfoHeader.bV4AlphaMask
&nbsp;&nbsp;&nbsp;&nbsp;*/
}
NumberOfEntries = (BitmapFileHeader.bfOffBits - StartOfPalBytes) / sizeof(RGBQUAD);
if (NumberOfEntries &lt; 0) {
&nbsp;&nbsp;&nbsp;&nbsp;/* ERROR: No Color palette */
&nbsp;&nbsp;&nbsp;&nbsp;NumberOfEntries = 0;
}
if ((BitmapInfoHeader.biClrUsed &gt; MaxNumberOfEntries) || 
&nbsp;&nbsp;&nbsp;&nbsp;(BitmapInfoHeader.biClrUsed == 0)) {
&nbsp;&nbsp;&nbsp;&nbsp;BitmapInfoHeader.biClrUsed = MaxNumberOfEntries;
}
if (NumberOfEntries &lt; BitmapInfoHeader.biClrUsed) {
&nbsp;&nbsp;&nbsp;&nbsp;BitmapInfoHeader.biClrUsed = NumberOfEntries;
}
else {
&nbsp;&nbsp;&nbsp;&nbsp;BitmapInfoHeader.biClrUsed = (BitmapInfoHeader.biClrUsed == 0) ?  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NumberOfEntries : BitmapInfoHeader.biClrUsed;
}
if (BitmapInfoHeader.biClrImportant &lt; BitmapInfoHeader.biClrUsed) {
&nbsp;&nbsp;&nbsp;&nbsp;BitmapInfoHeader.biClrImportant = (BitmapInfoHeader.biClrImportant == 0) ?  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BitmapInfoHeader.biClrUsed : BitmapInfoHeader.biClrImportant;
}
else {
&nbsp;&nbsp;&nbsp;&nbsp;BitmapInfoHeader.biClrImportant = (BitmapInfoHeader.biClrUsed == 0) ?  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NumberOfEntries : BitmapInfoHeader.biClrUsed;
}
RGBQUAD Colorpalette_RGBA[] = loadColorpalette_RGBA(BitmapInfoHeader.biClrImportant);
    </code></pre></div>
	  <p>&nbsp;</p>
    <table id="Table4">
      <caption><b>Table 4:</b> Windows RGBQUAD and OS/2 OS22XPALETTEELEMENT structures</caption>
      <thead>
        <tr>
          <th rowspan="2">Offset#</th>
          <th rowspan="2">Size (Bytes)</th>
          <th colspan="2" class="classNoBorderBottom">RGBQUAD</th>
          <th colspan="2" class="classNoBorderBottom">OS22XPALETTEELEMENT</th>
          <th rowspan="2" style="max-width: 500px;">Purpose</th>
        </tr>
        <tr>
          <th class="classNoBorderTop">Type</th>
          <th class="classNoBorderTop">Field Name</th>
          <th class="classNoBorderTop">Type</th>
          <th class="classNoBorderTop">Field Name</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>0000h</td>
          <td>1</td>
          <td>8&hyphen;bit unsigned</td>
          <td>rgbBlue</td>
          <td>8&hyphen;bit unsigned</td>
          <td>bBlue</td>
          <td class="classTextAlingLeft" style="max-width: 500px;">The blue component intensity value of the RGB colour
            (must be between 0 and 255).
          </td>
        </tr>
        <tr>
          <td>0001h</td>
          <td>1</td>
          <td>8&hyphen;bit unsigned</td>
          <td>rgbGreen</td>
          <td>8&hyphen;bit unsigned</td>
          <td>bGreen</td>
          <td class="classTextAlingLeft" style="max-width: 500px;">The green component intensity value of the RGB colour
            (must be between 0 and 255).
          </td>
        </tr>
        <tr>
          <td>0002h</td>
          <td>1</td>
          <td>8&hyphen;bit unsigned</td>
          <td>rgbRed</td>
          <td>8&hyphen;bit unsigned</td>
          <td>bRed</td>
          <td class="classTextAlingLeft" style="max-width: 500px;">The red component intensity value of the RGB colour
            (must be between 0 and 255).
          </td>
        </tr>
        <tr>
          <td>0003h</td>
          <td>1</td>
          <td>8&hyphen;bit unsigned</td>
          <td>rgbReserved</td>
          <td>8&hyphen;bit unsigned</td>
          <td>fcOptions</td>
          <td class="classTextAlingLeft" style="max-width: 500px;">
            <b>Windows:</b>&nbsp;reserved (must be 0). Can be used as alpha component intensity for RGBA colours in 16 and 32
            bits per color bitfield bitmaps.<br>
            <b>OS/2:</b>&nbsp;reserved for padding (must be 0).
          </td>
        </tr>
      </tbody>
    </table>
    <p>&nbsp;</p>
    <h2>BMP Windows DIB Header v2 and OS/2 Bitmap Header v1 <span style="color: #00FF00;">(12 Bytes)</span></h2>
    <p>
      This header/structure has created for Microsoft Windows 2.x and IBM OS/2 1.x bitmaps. All the integer values are
      stored in little&hyphen;endian format (<i>i.e.</i> least&hyphen;significant byte first). It has a total size of 12 bytes.
    </p>
    <p>
      This is the second header in the file and follows immediately the File Header v2 (Windows <code>BITMAPFILEHEADER</code> or
      OS/2 <code>OS2BMPFILEHEADER</code> structures). Is used to describe the DIB: dimensions, bits&hyphen;per&hyphen;pixel, etc..
    </p>
    <table id="Table5">
      <caption><b>Table 5:</b> Windows BITMAPCOREHEADER and OS/2 OS21XBITMAPHEADER structures</caption>
      <thead>
        <tr>
          <th rowspan="2">Offset#</th>
          <th rowspan="2">Size (Bytes)</th>
          <th colspan="2" class="classNoBorderBottom">BITMAPCOREHEADER</th>
          <th colspan="2" class="classNoBorderBottom">OS21XBITMAPHEADER</th>
          <th rowspan="2" style="max-width: 500px;">Purpose</th>
        </tr>
        <tr>
          <th class="classNoBorderTop">Type</th>
          <th class="classNoBorderTop">Field Name</th>
          <th class="classNoBorderTop">Type</th>
          <th class="classNoBorderTop">Field Name</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>0000h</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>bcSize</td>
          <td>32&hyphen;bit unsigned</td>
          <td>cbFix</td>
          <td class="classTextAlingLeft">The size of this structure in bytes (must be 12).</td>
        </tr>
        <tr>
          <td>0004h</td>
          <td>2</td>
          <td>16&hyphen;bit unsigned</td>
          <td>bcWidth</td>
          <td>16&hyphen;bit unsigned</td>
          <td>cx</td>
          <td class="classTextAlingLeft">The bitmap image width, in pixels (must be &gt; 0).</td>
        </tr>
        <tr>
          <td>0006h</td>
          <td>2</td>
          <td>16&hyphen;bit unsigned</td>
          <td>bcHeight</td>
          <td>16&hyphen;bit unsigned</td>
          <td>cy</td>
          <td class="classTextAlingLeft">The bitmap image height, in pixels (must be &gt; 0).</td>
        </tr>
        <tr>
          <td>0008h</td>
          <td>2</td>
          <td>16&hyphen;bit unsigned</td>
          <td>bcPlanes</td>
          <td>16&hyphen;bit unsigned</td>
          <td>cPlanes</td>
          <td class="classTextAlingLeft">The number of colour planes (must be 1).</td>
        </tr>
        <tr>
          <td>000Ah</td>
          <td>2</td>
          <td>16&hyphen;bit unsigned</td>
          <td>bcBitCount</td>
          <td>16&hyphen;bit unsigned</td>
          <td>cBitCount</td>
          <td class="classTextAlingLeft">
            The number of bits&hyphen;per&hyphen;pixel.<br>
            The following valid values are possible:
            <ul>
              <li><b>&nbsp;1</b> - &nbsp;&nbsp;2 colours monochrome bitmap (1 bit&hyphen;per&hyphen;pixel);</li>
              <li><b>&nbsp;4</b> - &nbsp;16 colours bitmap (4 bits&hyphen;per&hyphen;pixel);</li>
              <li><b>&nbsp;8</b> - 256 colours bitmap (8 bits&hyphen;per&hyphen;pixel);</li>
              <li><b>24</b> - 24 bits&hyphen;per&hyphen;pixel bitmap, has a maximum of 2<sup>24</sup> colours.</li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
    <p>&nbsp;</p>
    <h2>BMP OS/2 Bitmap Header v2 <span style="color: #00FF00;">(16 Bytes to 64 Bytes)</span></h2>
    <p>
      This header/structure has created for IBM OS/2 2.x bitmaps. All the integer values are stored in little&hyphen;endian format
      (<i>i.e.</i> least&hyphen;significant byte first). It has a minimum size of 16 bytes and a maximal size of 64 bytes.
    </p>
    <p>
      This is the second header in the file and follows immediately the File Header v2 (Windows <code>BITMAPFILEHEADER</code> or OS/2
      <code>OS2BMPFILEHEADER</code> structures). Is used to describe the DIB: dimensions, bits&hyphen;per&hyphen;pixel, palette size, compression,
      etc..
    </p>
    <p>The fields above 16 bytes and below 64 bytes, that aren't on the file, are assumed to be 0.</p>
    <table id="Table6">
      <caption><b>Table 6:</b> OS/2 OS22XBITMAPHEADER structure</caption>
      <thead>
        <tr>
          <th rowspan="2">Offset#</th>
          <th rowspan="2">Size (Bytes)</th>
          <th colspan="2" class="classNoBorderBottom">OS22XBITMAPHEADER</th>
          <th colspan="2" class="classNoBorderBottom">BITMAPINFOHEADER</th>
          <th rowspan="2" style="max-width: 500px;">Purpose</th>
        </tr>
        <tr>
          <th class="classNoBorderTop">Type</th>
          <th class="classNoBorderTop">Field Name</th>
          <th class="classNoBorderTop">Type</th>
          <th class="classNoBorderTop">Field Name</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>0000h</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>cbFix</td>
          <td>32&hyphen;bit unsigned</td>
          <td>biSize</td>
          <td class="classTextAlingLeft" style="max-width: 500px;">The size of this structure in bytes (must be between 16 and 64).<br>
            Common values are: 16, 40 and 64. In case of 40 bytes, this is equivalent to the <code>BITMAPINFOHEADER</code>.
          </td>
        </tr>
        <tr>
          <td>0004h</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>cx</td>
          <td>32&hyphen;bit signed</td>
          <td>biWidth</td>
          <td class="classTextAlingLeft" style="max-width: 500px;">The bitmap image width, in pixels (must be &gt; 0).</td>
        </tr>
        <tr>
          <td>0008h</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>cy</td>
          <td>32&hyphen;bit signed</td>
          <td>biHeight</td>
          <td class="classTextAlingLeft" style="max-width: 500px;">The bitmap image height, in pixels (must be &gt; 0).
          </td>
        </tr>
        <tr>
          <td>000Ch</td>
          <td>2</td>
          <td>16&hyphen;bit unsigned</td>
          <td>cPlanes</td>
          <td>16&hyphen;bit unsigned</td>
          <td>biPlanes</td>
          <td class="classTextAlingLeft" style="max-width: 500px;">The number of colour planes (must be 1).</td>
        </tr>
        <tr>
          <td>000Eh</td>
          <td>2</td>
          <td>16&hyphen;bit unsigned</td>
          <td>cBitCount</td>
          <td>16&hyphen;bit unsigned</td>
          <td>biBitCount</td>
          <td class="classTextAlingLeft" style="max-width: 500px;">
            The number of bits&hyphen;per&hyphen;pixel.<br>
            The following valid values are possible:
            <ul>
              <li><b>&nbsp;1</b> - &nbsp;&nbsp;2 colours monochrome bitmap (1 bit&hyphen;per&hyphen;pixel);</li>
              <li><b>&nbsp;4</b> - &nbsp;16 colours bitmap (4 bits&hyphen;per&hyphen;pixel);</li>
              <li><b>&nbsp;8</b> - 256 colours bitmap (8 bits&hyphen;per&hyphen;pixel);</li>
              <li><b>24</b> - 24 bits&hyphen;per&hyphen;pixel bitmap, has a maximum of 2<sup>24</sup> colours.</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>0010h</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>ulCompression</td>
          <td>32&hyphen;bit unsigned</td>
          <td>biCompression</td>
          <td class="classTextAlingLeft" style="max-width: 500px;">
            The compression method used.<br>
            The following valid values are possible:
            <table>
              <tbody>
                <tr>
                  <th>Value</th>
                  <th>Macro Name</th>
                  <th>Method</th>
                  <th style="max-width: 460px;">Description</th>
                </tr>
                <tr>
                  <td>0</td>
                  <td><code>BCA_UNCOMP</code></td>
                  <td>None</td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">Uncompressed RGB. Same as <code>BI_RGB</code>.</td>
                </tr>
                <tr>
                  <td>1</td>
                  <td><code>BCA_RLE8</code></td>
                  <td>RLE 8&hyphen;bit/pixel</td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">Can only be used with 8&hyphen;bit/pixel bitmaps. Same as <code>BI_RLE8</code>.</td>
                </tr>
                <tr>
                  <td>2</td>
                  <td><code>BCA_RLE4</code></td>
                  <td>RLE 4-bit/pixel</td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">Can only be used with 4-bit/pixel bitmaps. Same as <code>BI_RLE4</code>.</td>
                </tr>
                <tr>
                  <td>3</td>
                  <td><code>BCA_HUFFMAN1D</code></td>
                  <td>Huffman 1D</td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">Can only be used with 1-bit/pixel bitmaps.</td>
                </tr>
                <tr>
                  <td>4</td>
                  <td><code>BCA_RLE24</code></td>
                  <td>RLE 24-bit/pixel</td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">Can only be used with 24-bit/pixel bitmaps.</td>
                </tr>
              </tbody>
            </table>
          </td>
        </tr>
        <tr>
          <td>0014h</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>cbImage</td>
          <td>32&hyphen;bit unsigned</td>
          <td>biSizeImage</td>
          <td class="classTextAlingLeft">
            The size of the raw bitmap data, in bytes.<br>
            Can be set to 0 for uncompressed RGB bitmaps. In this case, the value can be calculated by the formula:<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<code>ImageDataSize = Width * Height * BitsPerPixel;</code>
          </td>
        </tr>
        <tr>
          <td>0018h</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>cxResolution</td>
          <td>32&hyphen;bit signed</td>
          <td>biXPelsPerMeter</td>
          <td class="classTextAlingLeft">
            The horizontal resolution, in pixels&hyphen;per&hyphen;meter, of the target device for the bitmap.<br>
            Can be set to 0. In this case, the default value for the display device is used.
          </td>
        </tr>
        <tr>
          <td>001Ch</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>cyResolution</td>
          <td>32&hyphen;bit signed</td>
          <td>biYPelsPerMeter</td>
          <td class="classTextAlingLeft">
            The vertical resolution, in pixels&hyphen;per&hyphen;meter, of the target device for the bitmap.<br>
            Can be set to 0. In this case, the default value for the display device is used.
          </td>
        </tr>
        <tr>
          <td>0020h</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>cclrUsed</td>
          <td>32&hyphen;bit unsigned</td>
          <td>biClrUsed</td>
          <td class="classTextAlingLeft">
            The number of colours present in the colour palette/table.<br>
            Can be set to 0, if <code>cBitCount</code> is less or equal than 8 bits&hyphen;per&hyphen;pixel (&le; 8). In this case,
            2<sup><i>n</i></sup> (where <i>n</i> is the number of bits&hyphen;per&hyphen;pixel) is used.<br>
            Can be calculated by the formula:<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<code>ColorsUsed = 1 &lt;&lt; BitsPerPixel;</code>
          </td>
        </tr>
        <tr>
          <td>0024h</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>cclrImportant</td>
          <td>32&hyphen;bit unsigned</td>
          <td>biClrImportant</td>
          <td class="classTextAlingLeft">
            The number of significant colours present in the colour palette/table.<br>
            Can be set to 0, if all colours in the palette are important (<i>i.e.</i> <code>cclrImportant</code> = <code>cclrUsed</code>)
          </td>
        </tr>
        <tr>
          <td>0028h</td>
          <td>2</td>
          <td>16&hyphen;bit unsigned</td>
          <td>usUnits</td>
          <td></td>
          <td></td>
          <td class="classTextAlingLeft">
            The type of units used to measure resolution (<code>cxResolution</code> and <code>cyResolution</code> fields).<br>
            The following valid values are possible:
            <ul>
              <li><b>0</b> (<code>BRU_METRIC</code>) - pixels&hyphen;per&hyphen;meter.</li>
            </ul>
            <b>Windows:</b>&nbsp;not supported or implemented!
          </td>
        </tr>
        <tr>
          <td>002Ah</td>
          <td>2</td>
          <td>16&hyphen;bit unsigned</td>
          <td>usReserved</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
          <td class="classTextAlingLeft">
            Pad the structure to 4-byte boundary (must be 0).<br>
            <b>Windows:</b>&nbsp;not supported or implemented!
          </td>
        </tr>
        <tr>
          <td>002Ch</td>
          <td>2</td>
          <td>16&hyphen;bit unsigned</td>
          <td>usRecording</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
          <td class="classTextAlingLeft">
            The type of the recording algorithm, <i>i.e.</i> how the bitmap scan lines are stored.<br>
            The following valid values are possible:
            <ul>
              <li><b>0</b> (<code>BRA_BOTTOMUP</code>) - bottom&hyphen;up DIB.</li>
            </ul>
            <b>Windows:</b>&nbsp;not supported or implemented!
          </td>
        </tr>
        <tr>
          <td>002Eh</td>
          <td>2</td>
          <td>16&hyphen;bit unsigned</td>
          <td>usRendering</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
          <td class="classTextAlingLeft">
            The type of the halftoning algorithm used on the bitmap data.<br>
            The following valid values are possible:
            <table>
              <tbody>
                <tr>
                  <th>Value</th>
                  <th>Macro</th>
                  <th style="max-width: 460px;">Description</th>
                </tr>
                <tr>
                  <td>0</td>
                  <td><code>BRH_NOTHALFTONED</code></td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">No halftoning.</td>
                </tr>
                <tr>
                  <td>1</td>
                  <td><code>BRH_ERRORDIFFUSION</code></td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">Error Diffusion halftoning.</td>
                </tr>
                <tr>
                  <td>2</td>
                  <td><code>BRH_PANDA</code></td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">Processing Algorithm for Noncoded Document Acquisition (PANDA) halftoning.</td>
                </tr>
                <tr>
                  <td>3</td>
                  <td><code>BRH_SUPERCIRCLE</code></td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">Super-Circle halftoning.</td>
                </tr>
              </tbody>
            </table>
            <b>Windows:</b>&nbsp;not supported or implemented!
          </td>
        </tr>
        <tr>
          <td>0030h</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>cSize1</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
          <td class="classTextAlingLeft">
            Reserved for halftoning algorithm use on the bitmap data.<br>
            <code>usRendering</code> =:
            <ul>
              <li><b>0</b> - must be 0;</li>
              <li><b>1</b> - is the error damping as a percentage in the range 0 through 100.<br>
                A value of 100 percent indicates no damping, and a value of 0 percent indicates that any errors are not diffused;
              </li>
              <li><b>2</b> - X dimension, in pixels, of the halftoning pattern used;</li>
              <li><b>3</b> - X dimension, in pixels, of the halftoning pattern used.</li>
            </ul>
            <b>Windows:</b>&nbsp;not supported or implemented!
          </td>
        </tr>
        <tr>
          <td>0034h</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>cSize2</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
          <td class="classTextAlingLeft">
            Reserved for halftoning algorithm use on the bitmap data.<br>
            <code>usRendering</code> =:
            <ul>
              <li><b>0</b> - must be 0;</li>
              <li><b>1</b> - must be 0;</li>
              <li><b>2</b> - Y dimension, in pixels, of the halftoning pattern used;</li>
              <li><b>3</b> - Y dimension, in pixels, of the halftoning pattern used.</li>
            </ul>
            <b>Windows:</b>&nbsp;not supported or implemented!
          </td>
        </tr>
        <tr>
          <td>0038h</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>ulColorEncoding</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
          <td class="classTextAlingLeft">
            Colour model used to describe the bitmap data.<br>
            The following valid values are possible:
            <ul>
              <li><b>0</b> (<code>BCE_RGB</code>) - RGB encoding scheme.</li>
              <li><b>FFFFh</b> (<code>BCE_PALETTE</code>) - Palette encoding scheme. Not valid.</li>
            </ul>
            <b>Windows:</b>&nbsp;not supported or implemented!
          </td>
        </tr>
        <tr>
          <td>003Ch</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>ulIdentifier</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
          <td class="classTextAlingLeft">
            Reserved for application use and may contain an application-specific value.<br>
            Normally, is set to 0.<br>
            <b>Windows:</b>&nbsp;not supported or implemented!
          </td>
        </tr>
      </tbody>
    </table>
    <p>&nbsp;</p>
    <h2>Windows BITMAPINFOHEADER, BITMAPV4HEADER and BITMAPV5HEADER Structures</h2>
    <p>
      This header/structure has created for Windows 3.1x bitmaps, and above. All the integer values are stored in little&hyphen;endian format
      (<i>i.e.</i> least&hyphen;significant byte first). The sizes values are as follow:
    </p>
    <ul>
      <li><b> 16</b> - BITMAPV0INFOHEADER (OS/2 2.0 variant of BITMAPINFOHEADER only with BITMAPCOREHEADER fields);</li>
      <li><b> 40</b> - <code>BITMAPINFOHEADER</code>;</li>
      <li><b> 52</b> - BITMAPV2INFOHEADER (Windows NT 3.5 variant of BITMAPINFOHEADER(BI_BITFIELDS) + RGB bitfields);</li>
      <li><b> 56</b> - BITMAPV3INFOHEADER (Windows CE 5.0 variant of BITMAPINFOHEADER(BI_ALPHABITFIELDS) + RGBA bitfields);</li>
      <li><b>108</b> - <code>BITMAPV4HEADER</code>;</li>
      <li><b>124</b> - <code>BITMAPV5HEADER</code>.</li>
    </ul>
    <p>
      This is the second header in the file and follows immediately the File Header v2 (Windows <code>BITMAPFILEHEADER</code>
      structure). Is used to describe the DIB: dimensions, bits&hyphen;per&hyphen;pixel, palette size, compression, bitfields masks, ICC profile,
      etc..
    </p>
    <table id="Table7">
      <caption><b>Table 7:</b> Windows BITMAPINFOHEADER, BITMAPV4HEADER and BITMAPV5HEADER structures</caption>
      <thead>
        <tr>
          <th>Offset#</th>
          <th>Size (Bytes)</th>
          <th>Type</th>
          <th>Field Name</th>
          <th style="max-width: 500px;">Purpose</th>
        </tr>
        <tr>
          <td colspan="5" style="background: #000000; color: #FFFFFF">Windows BITMAPV0INFOHEADER <span style="color: #00FF00;">(16 Bytes)</span></td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>0000h</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>biSize</td>
          <td class="classTextAlingLeft" style="max-width: 500px;">
            The size of this structure, in bytes, as follow:
            <ul>
              <li><b> 16</b> - BITMAPV0INFOHEADER (OS/2 2.0 variant of BITMAPINFOHEADER only with BITMAPCOREHEADER fields);</li>
              <li><b> 40</b> - <code>BITMAPINFOHEADER</code>;</li>
              <li><b> 52</b> - BITMAPV2INFOHEADER (Windows NT 3.5 variant of BITMAPINFOHEADER(BI_BITFIELDS) + RGB bitfields);</li>
              <li><b> 56</b> - BITMAPV3INFOHEADER (Windows CE 5.0 variant of BITMAPINFOHEADER(BI_ALPHABITFIELDS) + RGBA bitfields);</li>
              <li><b>108</b> - <code>BITMAPV4HEADER</code>;</li>
              <li><b>124</b> - <code>BITMAPV5HEADER</code>.</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>0004h</td>
          <td>4</td>
          <td>32&hyphen;bit signed</td>
          <td>biWidth</td>
          <td class="classTextAlingLeft" style="max-width: 500px;">
            The bitmap image width, in pixels (must be &gt; 0).<br>
            <b>Notes:</b><br>
            &nbsp;&nbsp;If <code>BITMAPV4IHEADER.bV4Compression</code> is <code>BI_JPEG</code> or <code>BI_PNG</code>, the bV4Width member specifies
            the width of the decompressed JPEG or PNG image in pixels.</td>
        </tr>
        <tr>
          <td>0008h</td>
          <td>4</td>
          <td>32&hyphen;bit signed</td>
          <td>biHeight</td>
          <td class="classTextAlingLeft" style="max-width: 500px;">
            The bitmap image height, in pixels.<br>
            If &gt; 0, then is a bottom&hyphen;up DIB (its origin is the lower left corner). This is the default.<br>
            If &lt; 0, them is a top&hyphen;down DIB (its origin is the upper left corner). Only for uncompressed bitmaps.<br>
            <b>Notes:</b><br>
            &nbsp;&nbsp;For YUV bitmaps, ignore the sign, because they are always top&hyphen;down.<br>
            &nbsp;&nbsp;Top&hyphen;down DIBs cannot be compressed.<br>
            &nbsp;&nbsp;If <code>BITMAPV4IHEADER.bV4Compression</code> is <code>BI_JPEG</code> or <code>BI_PNG</code>, the bV4Height member specifies the height of
            the decompressed JPEG or PNG image in pixels.
          </td>
        </tr>
        <tr>
          <td>000Ch</td>
          <td>2</td>
          <td>16&hyphen;bit unsigned</td>
          <td>biPlanes</td>
          <td class="classTextAlingLeft" style="max-width: 500px;">The number of colour planes (must be 1).</td>
        </tr>
        <tr>
          <td>000Eh</td>
          <td>2</td>
          <td>16&hyphen;bit unsigned</td>
          <td>biBitCount</td>
          <td class="classTextAlingLeft" style="max-width: 500px;">
            The number of bits&hyphen;per&hyphen;pixel.<br>
            The following valid values are possible:
            <ul>
              <li><b> 0</b> - the number of bits&hyphen;per&hyphen;pixel is specified or is implied by the JPEG or PNG file format.
                Only valid if <code>BITMAPV4IHEADER.biCompression</code> = <code>BI_JPEG</code> or <code>BI_PNG</code>;</li>
              <li><b>&nbsp;1</b> - &nbsp;&nbsp;2 colours monochrome bitmap (1 bit&hyphen;per&hyphen;pixel);</li>
              <li><b>&nbsp;2</b> - &nbsp;&nbsp;4 colours bitmap (2 bits&hyphen;per&hyphen;pixel), 4 gray shades. Only supported by Windows CE APIs;</li>
              <li><b>&nbsp;4</b> - &nbsp;16 colours bitmap (4 bits&hyphen;per&hyphen;pixel);</li>
              <li><b>&nbsp;8</b> - 256 colours bitmap (8 bits&hyphen;per&hyphen;pixel);</li>
              <li><b>16</b> - 16 bits&hyphen;per&hyphen;pixel bitmap, has a maximum of 2<sup>16</sup> colours;</li>
              <li><b>24</b> - 24 bits&hyphen;per&hyphen;pixel bitmap, has a maximum of 2<sup>24</sup> colours;</li>
              <li><b>32</b> - 32 bits&hyphen;per&hyphen;pixel bitmap, has a maximum of 2<sup>32</sup> colours;</li>
              <li><b>64</b> - 64 bits&hyphen;per&hyphen;pixel bitmap, has a maximum of 2<sup>64</sup> colours. Only supported by GDI+</li>
            </ul>
            <b>Notes:</b><br>
            &nbsp;&nbsp;Windows CE versions 1.0 and 1.01, only support 1 and 2 bits&hyphen;per&hyphen;pixel bitmaps.<br>
            &nbsp;&nbsp;Only Windows 95, NT 3.5 and above, support 16 and 32 bits&hyphen;per&hyphen;pixel bitmaps.
          </td>
        </tr>
        <tr>
          <td colspan="5" style="background: #000000; color: #FFFFFF">Windows BITMAPINFOHEADER <span style="color: #00FF00;">(40 Bytes)</span></td>
        </tr>
        <tr>
          <td>0010h</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>biCompression</td>
          <td class="classTextAlingLeft" style="max-width: 500px;">
            The compression method used.<br>
            The following valid values are possible:
            <table>
              <tbody>
                <tr>
                  <th>Value</th>
                  <th>Macro Name</th>
                  <th>Method</th>
                  <th style="max-width: 460px;">Description</th>
                </tr>
                <tr>
                  <td>0</td>
                  <td><code>BI_RGB</code></td>
                  <td>None</td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">Uncompressed RGB.</td>
                </tr>
                <tr>
                  <td>1</td>
                  <td><code>BI_RLE8</code></td>
                  <td>RLE 8&hyphen;bit/pixel</td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">Can only be used with 8&hyphen;bit/pixel bitmaps.</td>
                </tr>
                <tr>
                  <td>2</td>
                  <td><code>BI_RLE4</code></td>
                  <td>RLE 4-bit/pixel</td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">Can only be used with 4-bit/pixel bitmaps.</td>
                </tr>
                <tr>
                  <td>3</td>
                  <td><code>BI_BITFIELDS</code></td>
                  <td>Bitfields RGBA</td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">
                    Uncompressed RGBA bitfields masks. Only is valid when used with 16- and 32-bpp bitmaps.<br>
                    <b>OS/2:</b> <code>BCA_HUFFMAN1D</code>. Only for OS/2 <code>OS22XBITMAPHEADER</code>. Can only be used with 1-bit/pixel bitmaps.
                  </td>
                </tr>
                <tr>
                  <td>4</td>
                  <td><code>BI_JPEG</code></td>
                  <td>JPEG</td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">
                    A JPEG encoded image for printing, follows this header. Only valid on <code>BITMAPV4IHEADER</code> or <code>BITMAPV5IHEADER</code>.<br>
                    <b>OS/2:</b> <code>BCA_RLE24</code>. Only for OS/2 <code>OS22XBITMAPHEADER</code>. Can only be used with 24-bit/pixel bitmaps.
                  </td>
                </tr>
                <tr>
                  <td>5</td>
                  <td><code>BI_PNG</code></td>
                  <td>PNG</td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">A PNG encoded image for printing, follows this
                    header. Only valid on <code>BITMAPV4IHEADER</code> or <code>BITMAPV5IHEADER</code>.
                  </td>
                </tr>
                <tr>
                  <td>6</td>
                  <td><code>BI_ALPHABITFIELDS</code></td>
                  <td>Bitfields RGBA</td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">Uncompressed RGBA bitfields masks. Is valid when used with
				          16- and 32-bpp bitmaps. Only valid on <code>BITMAPINFOHEADER</code>, for Windows CE 5.0 with .NET 4.0 or later.</td>
                </tr>
                <tr>
                  <td>11</td>
                  <td><code>BI_CMYK</code></td>
                  <td>None</td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">Can only be used by uncompressed Windows Metafile CMYK.</td>
                </tr>
                <tr>
                  <td>12</td>
                  <td><code>BI_CMYKRLE8</code></td>
                  <td>RLE 8&hyphen;bit/pixel</td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">Can only be used by 8&hyphen;bit/pixel Windows Metafile CMYK.</td>
                </tr>
                <tr>
                  <td>13</td>
                  <td><code>BI_CMYKRLE4</code></td>
                  <td>RLE 4-bit/pixel</td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">Can only be used by 4-bit/pixel Windows Metafile CMYK.</td>
                </tr>
                <tr>
                  <td>&nbsp;</td>
                  <td><code>MAKEFOURCC('Y','U','Y','2');</code><br><code>FCC("YUY2");</code></td>
                  <td>YUV Compressed Video</td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">For compressed video and YUV formats, this member is a FOURCC code, 4 ASCII characters like
                    'VYUY' or 56595559h in hexadecimal.</td>
                </tr>
              </tbody>
            </table>
            <b>Notes:</b><br>
            &nbsp;&nbsp;For Windows CE Mobile 5.0 and later, this value can be <b>OR</b>ed with <code>BI_SRCPREROTATE</code> (8000h in hexadecimal)
            to specify that the source DIB section has the same rotation angle as the destination.
          </td>
        </tr>
        <tr>
          <td>0014h</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>biSizeImage</td>
          <td class="classTextAlingLeft">
            The size of the raw bitmap data, in bytes.<br>
            Can be set to 0 for uncompressed RGB bitmaps. In this case, the value can be calculated by the formula:<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<code>ImageDataSize = Width * Height * BitsPerPixel;</code>
          </td>
        </tr>
        <tr>
          <td>0018h</td>
          <td>4</td>
          <td>32&hyphen;bit signed</td>
          <td>biXPelsPerMeter</td>
          <td class="classTextAlingLeft">
            The horizontal resolution, in pixels&hyphen;per&hyphen;meter, of the target device for the bitmap.<br>
            Can be set to 0. In this case, the default value for the display device is used.
          </td>
        </tr>
        <tr>
          <td>001Ch</td>
          <td>4</td>
          <td>32&hyphen;bit signed</td>
          <td>biYPelsPerMeter</td>
          <td class="classTextAlingLeft">
            The vertical resolution, in pixels&hyphen;per&hyphen;meter, of the target device for the bitmap.<br>
            Can be set to 0. In this case, the default value for the display device is used.
          </td>
        </tr>
        <tr>
          <td>0020h</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>biClrUsed</td>
          <td class="classTextAlingLeft">
            The number of colours present in the colour palette/table.<br>
            Can be set to 0, if <code>biBitCount</code> is less or equal than 8 bits&hyphen;per&hyphen;pixel (&le; 8). In this case,
            2<sup><i>n</i></sup> (where <i>n</i> is the number of bits&hyphen;per&hyphen;pixel) is used, calculated by the formula:<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<code>ColorsUsed = 1 &lt;&lt; BitsPerPixel;</code><br>
            For <code>biBitCount</code> bigger than 8 bits&hyphen;per&hyphen;pixel (&gt; 8), this is the number of colours entries on the optimized palette.
            Or 0, for no palette present.
          </td>
        </tr>
        <tr>
          <td>0024h</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>biClrImportant</td>
          <td class="classTextAlingLeft">
            The number of significant colours present in the colour palette/table.<br>
            Can be set to 0, if all colours in the palette are important (<i>i.e.</i> <code>biClrImportant</code> = <code>biClrUsed</code>).
          </td>
        </tr>
        <tr>
          <td colspan="5" style="background: #000000; color: #FFFFFF">Windows BITMAPV2INFOHEADER <span style="color: #00FF00;">(52 Bytes)</span></td>
        </tr>
        <tr>
          <td>0028h</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>bV4RedMask</td>
          <td class="classTextAlingLeft">
            The colour mask that specifies the red component of each pixel, valid only if <code>bV4Compression</code> is
            set to <code>BI_BITFIELDS</code>.
          </td>
        </tr>
        <tr>
          <td>002Ch</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>bV4GreenMask</td>
          <td class="classTextAlingLeft">
            The colour mask that specifies the green component of each pixel, valid only if <code>bV4Compression</code> is
            set to <code>BI_BITFIELDS</code>.
          </td>
        </tr>
        <tr>
          <td>0030h</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>bV4BlueMask</td>
          <td class="classTextAlingLeft">
            The colour mask that specifies the green component of each pixel, valid only if <code>bV4Compression</code> is
            set to <code>BI_BITFIELDS</code>.
          </td>
        </tr>
        <tr>
          <td colspan="5" style="background: #000000; color: #FFFFFF">Windows BITMAPV3INFOHEADER <span style="color: #00FF00;">(56 Bytes)</span></td>
        </tr>
        <tr>
          <td>0034h</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>bV4AlphaMask</td>
          <td class="classTextAlingLeft">
            The colour mask that specifies the alpha component of each pixel, valid only if <code>bV4Compression</code> is
            set to <code>BI_BITFIELDS</code> or <code>BI_ALPHABITFIELDS</code>.
          </td>
        </tr>
        <tr>
          <td colspan="5" style="background: #000000; color: #FFFFFF">Windows BITMAPV4HEADER <span style="color: #00FF00;">(108 Bytes)</span></td>
        </tr>
        <tr>
          <td>0038h</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>bV4CSType</td>
          <td class="classTextAlingLeft">
            The colour space type of the DIB, <i>aka</i> the ICC color correction profile type. The following valid values are possible:
            <table>
              <tbody>
                <tr>
                  <th>Value</th>
                  <th>Macro Name</th>
                  <th style="max-width: 460px;">Description</th>
                </tr>
                <tr>
                  <td>0</td>
                  <td><code>LCS_CALIBRATED_RGB</code></td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">
                    This value implies that endpoints and gamma values are given in the appropriate fields.
                  </td>
                </tr>
                <tr>
                  <td>1</td>
                  <td>1</td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">
                    Use destination device RGB. Ignores the endpoints and gamma values given in the appropriate fields.
                  </td>
                </tr>
                <tr>
                  <td>2</td>
                  <td>2</td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">
                    Use destination device CMYK. Ignores the endpoints and gamma values given in the appropriate fields.
                  </td>
                </tr>
                <tr>
                  <td>73524742h</td>
                  <td><code>LCS_sRGB</code></td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">
                    Specifies that the bitmap is in sRGB color space.<br>
                    <code>bV4Endpoints</code>, <code>bV4GammaRed</code>, <code>bV4GammaGreen</code> and <code>bV4GammaBlue</code> members are ignored.<br>
                    The ICC sRGB color space values are used instead.<br>
                    In ASCII, equals 'sRGB'.
                  </td>
                </tr>
                <tr>
                  <td>57696E20h</td>
                  <td><code>LCS_WINDOWS_COLOR_SPACE</code></td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">
                    This value indicates that the bitmap is in the OS default colour space, normally sRGB.<br>
                    <code>bV4Endpoints</code>, <code>bV4GammaRed</code>, <code>bV4GammaGreen</code> and <code>bV4GammaBlue</code> members are ignored.<br>
                     The OS values are used instead.<br>
                    In ASCII, equals 'Win '.
                  </td>
                </tr>
                <tr>
                  <td>4C494E4Bh</td>
                  <td><code>PROFILE_LINKED</code></td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">
                    Specifies that <code>bV5ProfileData</code> points to the ICC colour space file name (in ASCII Code Page 1252) of the profile to use.<br>
                    <code>bV4Endpoints</code>, <code>bV4GammaRed</code>, <code>bV4GammaGreen</code> and <code>bV4GammaBlue</code> members are ignored.<br>
                    Only for <code>BITMAPV5IHEADER</code>.<br>
                    In ASCII, equals 'LINK'.
                  </td>
                </tr>
                <tr>
                  <td>4D424544h</td>
                  <td><code>PROFILE_EMBEDDED</code></td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">
                    Specifies that <code>bV5ProfileData</code> points to a memory buffer that contains the profile to be used.<br>
                    <code>bV4Endpoints</code>, <code>bV4GammaRed</code>, <code>bV4GammaGreen</code> and <code>bV4GammaBlue</code> members are ignored.<br>
                    Only for <code>BITMAPV5IHEADER</code>.<br>
                    In ASCII, equals 'MBED'.
                  </td>
                </tr>
              </tbody>
            </table>
          </td>
        </tr>
		    <tr>
          <td>003Ch</td>
          <td>36</td>
          <td>3 * 32&hyphen;bit unsigned</td>
          <td>bV4Endpoints</td>
          <td class="classTextAlingLeft">
            The RGB colour calibrated endpoints. Calibrated RGB is defined by the 1931 CIE XYZ standard.<br>
            <code>CIEXYZTRIPLE</code> contains the x,y, and z coordinates of the three colours components that are composed by <code>CIEXYZTRIPLE.ciexyzRed</code>, 
			<code>CIEXYZTRIPLE.ciexyzGreen</code> and <code>CIEXYZTRIPLE.ciexyzBlue</code> endpoints.<br>
        	Specified in fixed point 2.30 format. The upper 2 bits are the unsigned integer value. The lower 30 bits are the fractional part.
          </td>
        </tr>
		    <tr>
          <td>0060h</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>bV4GammaRed</td>
          <td class="classTextAlingLeft">
            Tone response curve for red colour component. 
			This member is ignored unless colour values are calibrated RGB values and <code>bV4CSType</code> is set to 
			<code>LCS_CALIBRATED_RGB</code>.<br>
        	Specified in fixed point 16.16 format. The upper 16 bits are the unsigned integer value. The lower 16 bits are the fractional part.<br>
			The required <code>DWORD</code> bit format for the  <code>bV4GammaRed</code> is an 8.8 fixed point integer left-shifted
		    by 8 bits. This means 8 integer bits are followed by 8 fraction bits. Taking the bit shift into account, the required format
		    of the 32-bit DWORD is:<br>
		    &nbsp;&nbsp;&nbsp;&nbsp;0x00000000nnnnnnnnffffffff00000000
          </td>
        </tr>
		    <tr>
          <td>0064h</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>bV4GammaGreen</td>
          <td class="classTextAlingLeft">
            Tone response curve for green colour component. 
			This member is ignored unless colour values are calibrated RGB values and <code>bV4CSType</code> is set to 
			<code>LCS_CALIBRATED_RGB</code>.<br>
        	Specified in fixed point 16.16 format. The upper 16 bits are the unsigned integer value. The lower 16 bits are the fractional part.<br>
			The required <code>DWORD</code> bit format for the  <code>bV4GammaGreen</code> is an 8.8 fixed point integer left-shifted
		    by 8 bits. This means 8 integer bits are followed by 8 fraction bits. Taking the bit shift into account, the required format
		    of the 32-bit DWORD is:<br>
		    &nbsp;&nbsp;&nbsp;&nbsp;0x00000000nnnnnnnnffffffff00000000
          </td>
        </tr>
		    <tr>
          <td>0068h</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>bV4GammaBlue</td>
          <td class="classTextAlingLeft">
            Tone response curve for blue colour component. 
			This member is ignored unless colour values are calibrated RGB values and <code>bV4CSType</code> is set to 
			<code>LCS_CALIBRATED_RGB</code>.<br>
        	Specified in fixed point 16.16 format. The upper 16 bits are the unsigned integer value. The lower 16 bits are the fractional part.<br>
			The required <code>DWORD</code> bit format for the  <code>bV4GammaBlue</code> is an 8.8 fixed point integer left-shifted
		    by 8 bits. This means 8 integer bits are followed by 8 fraction bits. Taking the bit shift into account, the required format
		    of the 32-bit DWORD is:<br>
		    &nbsp;&nbsp;&nbsp;&nbsp;0x00000000nnnnnnnnffffffff00000000
          </td>
        </tr>
		    <tr>
          <td colspan="5" style="background: #000000; color: #FFFFFF">Windows BITMAPV5HEADER <span style="color: #00FF00;">(124 Bytes)</span></td>
        </tr>
        <tr>
          <td>006Ch</td>
          <td>4</td>
          <td>32&hyphen;bit unsigned</td>
          <td>bV5Intent</td>
          <td class="classTextAlingLeft">
            Rendering intent for bitmap. The following valid values are possible:
            <table>
              <tbody>
                <tr>
                  <th>Value</th>
                  <th>Macro Name</th>
                  <th>Intent</th>
                  <th>ICC Name</th>
                  <th style="max-width: 460px;">Description</th>
                </tr>
                <tr>
                  <td>1</td>
                  <td><code>LCS_GM_BUSINESS</code></td>
                  <td>Graphic</td>
                  <td>Saturation</td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">
                    Maintains saturation. Used for business charts and other situations in which undithered colours are required.
                  </td>
                </tr>
                <tr>
                  <td>2</td>
                  <td><code>LCS_GM_GRAPHICS</code></td>
                  <td>Proof</td>
                  <td>Relative Colorimetric</td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">
                    Maintains colorimetric match. Used for graphic designs and named colours.
                  </td>
                </tr>
                <tr>
                  <td>4</td>
                  <td><code>LCS_GM_IMAGES</code></td>
                  <td>Picture</td>
                  <td>Perceptual</td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">
                    Maintains contrast. Used for photographs and natural images.
                  </td>
                </tr>
                <tr>
                  <td>8</td>
                  <td><code>LCS_GM_ABS_COLORIMETRIC</code></td>
                  <td>Match</td>
                  <td>Absolute Colorimetric</td>
                  <td class="classTextAlingLeft" style="max-width: 460px;">
                    Maintains the white point. Matches the colours to their nearest colour in the destination gamut.
                  </td>
                </tr>
              </tbody>
            </table>
          </td>
        </tr>
        <tr>
          <td>0070h</td>
          <td>4</td>
          <td>32‐bit unsigned</td>
          <td>bV5ProfileData</td>
          <td class="classTextAlingLeft">
            The offset, in bytes, from the beginning of the <code>BITMAPV5HEADER</code> structure to the start of the ICM profile data.
            If the profile is embedded, profile data is the actual profile, otherwise, it is a string with the name of the linked profile.
            These profile members are ignored unless the <code>bV5CSType</code> member specifies <code>PROFILE_LINKED</code> or <code>PROFILE_EMBEDDED</code>.<br>
            <b>Note:</b> The profile data string, for linked profiles, is the null-terminated file name of the profile and must be encoded on ASCII for the
            Windows character set (code page 1252).
          </td>
        </tr>
        <tr>
          <td>0074h</td>
          <td>4</td>
          <td>32‐bit unsigned</td>
          <td>bV5ProfileSize</td>
          <td class="classTextAlingLeft">
            Size, in bytes, of embedded profile data.
          </td>
        </tr>
        <tr>
          <td>0078h</td>
          <td>4</td>
          <td>32‐bit unsigned</td>
          <td>bV5Reserved</td>
          <td class="classTextAlingLeft">
            Padding. Reserved for future use. Must be 0.
          </td>
        </tr>
      </tbody>
    </table>
    <p>&nbsp;</p>
    <h2>References</h2>
    <ol>
      <li id="cite_note-1">
        &nbsp;
        <cite><a href="https://en.wikipedia.org/wiki/List_of_Microsoft_Windows_versions" hreflang="en" rel="nofollow" target="_blank">List of Microsoft Windows versions</a></cite>. Last edited on 2024-11-17.
      </li>
      <li id="cite_note-2">
        &nbsp;
        <cite><a href="https://en.wikipedia.org/wiki/OS/2" hreflang="en" rel="nofollow" target="_blank">OS/2</a></cite>. Last edited on 2024-11-20.
      </li>
      <li id="cite_note-3">
        &nbsp;
        <cite><a href="https://en.wikipedia.org/wiki/IBM_Monochrome_Display_Adapter" hreflang="en" rel="nofollow" target="_blank">IBM Monochrome Display Adapter</a></cite>. 2024-09-06.
      </li>
      <li id="cite_note-4">
        &nbsp;
        <cite><a href="https://en.wikipedia.org/wiki/Color_Graphics_Adapter" hreflang="en" rel="nofollow" target="_blank">Color Graphics Adapter</a></cite>. Last edited on 2024-11-01.
      </li>
      <li id="cite_note-5">
        &nbsp;
        <cite><a href="https://en.wikipedia.org/wiki/Enhanced_Graphics_Adapter" hreflang="en" rel="nofollow" target="_blank">Enhanced Graphics Adapter</a></cite>. Last edited on 2024-11-19.
      </li>
      <li id="cite_note-6">
        &nbsp;
        <cite><a href="https://en.wikipedia.org/wiki/Hercules_Graphics_Card" hreflang="en" rel="nofollow" target="_blank">Hercules Graphics Card</a></cite>. Last edited on 2024-09-27.
      </li>
      <li id="cite_note-7">
        &nbsp;
        <cite><a href="https://en.wikipedia.org/wiki/Video_Graphics_Array" hreflang="en" rel="nofollow" target="_blank">Video Graphics Array</a></cite>. Last edited on 2024-11-23.
      </li>
      <li id="cite_note-8">
        &nbsp;
        <cite><a href="https://en.wikipedia.org/wiki/Super_VGA" hreflang="en" rel="nofollow" target="_blank">Super VGA</a></cite>. Last edited on 2024-11-10.
      </li>
      <li id="cite_note-9">
        &nbsp;
        <cite><a href="https://en.wikipedia.org/wiki/Extended_Graphics_Array" hreflang="en" rel="nofollow" target="_blank">Extended Graphics Array</a></cite>. Last edited on 2024-09-01.
      </li>
      <li id="cite_note-10">
        &nbsp;
        <cite><a href="https://en.wikipedia.org/wiki/Monochrome_monitor" hreflang="en" rel="nofollow" target="_blank">Monochrome monitor</a></cite>. Last edited on 2024-06-09.
      </li>
      <li id="cite_note-11">
        &nbsp;
        <cite><a href="https://en.wikipedia.org/wiki/Phosphor#Standard_phosphor_types" hreflang="en" rel="nofollow" target="_blank">Phosphor - Standard phosphor types</a></cite>. Last edited on 2024-11-21.
      </li>
      <li id="cite_note-12">
        &nbsp;
        <cite><a href="https://en.wikipedia.org/wiki/Color_depth#High_color_(15/16-bit)" hreflang="en" rel="nofollow" target="_blank">Color depth - High color (15/16-bit)</a></cite>. Last edited on 2024-09-24.
      </li>
      <li id="cite_note-13">
        &nbsp;
        <cite><a href="https://en.wikipedia.org/wiki/Color_depth#True_color_(24-bit)" hreflang="en" rel="nofollow" target="_blank">Color depth - True color (24-bit)</a></cite>. Last edited on 2024-09-24.
      </li>
      <li id="cite_note-14">
        &nbsp;
        <cite><a href="https://en.wikipedia.org/wiki/Run-length_encoding" hreflang="en" rel="nofollow" target="_blank">Run-length encoding</a></cite>. Last edited on 2024-10-30.
      </li>
    </ol>
  </body>
</html>
